[{"title":"Day1-UIKitäº‹ä»¶ä¼ é€’æœºåˆ¶ & Responder Chain","url":"/2025/04/23/Day1-UIKit%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6-Responder-Chain/","content":"UIKit äº‹ä»¶ä¼ é€’æœºåˆ¶ &amp; Responder Chainä¸€ã€äº‹ä»¶ç±»å‹UIKit ä¸­ä¸»è¦çš„äº‹ä»¶ç±»å‹åŒ…æ‹¬ï¼š\n\nè§¦æ‘¸äº‹ä»¶ï¼ˆTouch Eventsï¼‰ï¼šå¦‚ tapã€swipeã€pinch ç­‰ã€‚\nè¿åŠ¨äº‹ä»¶ï¼ˆMotion Eventsï¼‰ï¼šå¦‚æ‘‡åŠ¨è®¾å¤‡ã€‚\nè¿œç¨‹æ§åˆ¶äº‹ä»¶ï¼ˆRemote-Control Eventsï¼‰ï¼šå¦‚è€³æœºæ§åˆ¶ã€CarPlayã€‚\næŒ‰é”®äº‹ä»¶ï¼ˆPress Eventsï¼‰ï¼ˆä»…é™ tvOS æˆ–æ”¯æŒç¡¬ä»¶é”®ç›˜æ—¶çš„ iOSï¼‰ã€‚\n\n\näºŒã€äº‹ä»¶ä¼ é€’æµç¨‹\näº‹ä»¶äº§ç”Ÿï¼š\n\näº‹ä»¶ç”±ç¡¬ä»¶ï¼ˆå±å¹•ã€ä¼ æ„Ÿå™¨ç­‰ï¼‰æ£€æµ‹åäº¤ç»™ç³»ç»Ÿã€‚\niOS å°†äº‹ä»¶åŠ å…¥åˆ°ä¸»çº¿ç¨‹çš„ UIApplication å¯¹è±¡ä¸­è¿›è¡Œåˆ†å‘ã€‚\n\n\näº‹ä»¶åˆ†å‘è·¯å¾„ï¼š\n\nUIApplication â†’ UIWindow â†’ UIView\n\n\nå‘½ä¸­æµ‹è¯•ï¼ˆHit-Testingï¼‰ï¼š\n\nä»æ ¹è§†å›¾ï¼ˆwindow çš„ rootViewï¼‰å¼€å§‹é€’å½’æŸ¥æ‰¾ç›®æ ‡è§†å›¾ã€‚\nä½¿ç”¨ä¸¤ä¸ªæ–¹æ³•ï¼š\npoint(inside:with:)\nhitTest(_:with:)\n\n\næœ€ç»ˆæ‰¾åˆ°æœ€åˆé€‚çš„è§†å›¾æ¥æ”¶è§¦æ‘¸äº‹ä»¶ã€‚\n\n\n\n\nä¸‰ã€Responder Chainï¼ˆå“åº”è€…é“¾ï¼‰1. ä»€ä¹ˆæ˜¯ Responder Chainï¼ŸResponder Chain æ˜¯ä¸€æ¡äº‹ä»¶å“åº”é“¾ï¼Œç”¨æ¥å¤„ç†è§†å›¾æ— æ³•å“åº”çš„äº‹ä»¶ã€‚\n2. Responder Chain æ„æˆä¸€ä¸ª UIResponder å¯¹è±¡ï¼ˆå¦‚ UIViewã€UIViewControllerï¼‰å¯ä»¥ä¼ é€’äº‹ä»¶ç»™å…¶ä¸Šå±‚å“åº”è€…ï¼šUIView â†’ UIViewController â†’ UIWindow â†’ UIApplication â†’ AppDelegate\nå¦‚æœæŸä¸ªå¯¹è±¡æ— æ³•å¤„ç†äº‹ä»¶ï¼Œå®ƒä¼šæŠŠäº‹ä»¶ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå“åº”è€…ã€‚\n3. UIResponder æ–¹æ³•\n\n\næ–¹æ³•å\nè¯´æ˜\n\n\n\ntouchesBegan(_:with:)\nå¼€å§‹è§¦æ‘¸\n\n\ntouchesMoved(_:with:)\nè§¦æ‘¸ç§»åŠ¨\n\n\ntouchesEnded(_:with:)\nè§¦æ‘¸ç»“æŸ\n\n\ntouchesCancelled(_:with:)\nè§¦æ‘¸è¢«å–æ¶ˆ\n\n\nè¿˜å¯ä»¥é€šè¿‡ canBecomeFirstResponder å’Œ becomeFirstResponder() æ§åˆ¶ç„¦ç‚¹ã€‚\n\nå››ã€è‡ªå®šä¹‰äº‹ä»¶ä¼ é€’ï¼ˆå¸¸è§åœºæ™¯ï¼‰1. UIView ä¸å“åº”äº‹ä»¶å¯èƒ½æ˜¯å› ä¸ºä»¥ä¸‹åŸå› ï¼š\n\nisUserInteractionEnabled = false\nalpha &lt; 0.01\nhidden = true\n\n2. è‡ªå®šä¹‰æ§ä»¶äº‹ä»¶ä¼ é€’å¯é‡å†™ä»¥ä¸‹æ–¹æ³•ï¼š\n\nhitTest(_:with:)ï¼šå†³å®šè°æ˜¯äº‹ä»¶çš„æœ€ç»ˆå“åº”è€…ã€‚\npoint(inside:with:)ï¼šåˆ¤æ–­ç‚¹æ˜¯å¦åœ¨å½“å‰è§†å›¾å†…ã€‚\n\n\näº”ã€Responder Chain åº”ç”¨åœºæ™¯\næ§ä»¶äº‹ä»¶ä¼ é€’ï¼šå¦‚ UIButton ç‚¹å‡»äº‹ä»¶å‘ä¸Šä¼ é€’ã€‚\nèœå•å¤„ç†ï¼šå¦‚å¤åˆ¶ç²˜è´´èœå•å“åº”ã€‚\né”®ç›˜å“åº”ç®¡ç†ã€‚\nè‡ªå®šä¹‰äº‹ä»¶è·¯ç”±ï¼ˆtarget-action æ— æ³•å¤„ç†æ—¶ï¼‰ã€‚\n\n\nå…­ã€è°ƒè¯•æŠ€å·§\nä½¿ç”¨ View Debugger æ£€æŸ¥è§†å›¾å±‚çº§ã€‚\næ‰“æ–­ç‚¹è°ƒè¯• hitTest å’Œ touchesBeganã€‚\næŸ¥çœ‹ next å±æ€§è¿½è¸ª Responder Chainã€‚\n\n\nä¸ƒã€æ€»ç»“\nUIKit äº‹ä»¶ä» UIApplication å¼€å§‹ï¼Œç»è¿‡ UIWindow æœ€ç»ˆä¼ é€’ç»™å…·ä½“çš„ UIViewã€‚\nResponder Chain æ˜¯äº‹ä»¶å†’æ³¡æœºåˆ¶çš„å®ç°ï¼Œæ”¯æŒäº‹ä»¶çš„å¤šçº§å¤„ç†ã€‚\né€šè¿‡åˆç†åˆ©ç”¨ hitTest: å’Œ Responder Chainï¼Œå¯ä»¥å®ç°å¤æ‚äº¤äº’éœ€æ±‚ã€‚\n\n","categories":["åŸºç¡€"]},{"title":"Day1-ä¸¤æ•°ä¹‹å’Œ","url":"/2025/04/23/Day1-%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/","content":"ğŸ§  ç®—æ³•é¢˜ï¼šä¸¤æ•°ä¹‹å’Œï¼ˆTwo Sumï¼‰\nğŸ¯ é¢˜ç›®æè¿°ï¼š\nç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨æ•°ç»„ä¸­æ‰¾å‡ºä¸¤ä¸ªåŠ èµ·æ¥ç­‰äºç›®æ ‡å€¼çš„æ•°å­—ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚\nä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ ä¸èƒ½ä½¿ç”¨ä¸¤éã€‚\n\nğŸ’¡ ç¤ºä¾‹ï¼š\nè¾“å…¥: nums = [2, 7, 11, 15], target = 9è¾“å‡º: [0, 1] è§£é‡Š: å› ä¸º nums[0] + nums[1] == 9\n\nâœ… è§£é¢˜è¦æ±‚ï¼š\tâ€¢\tæ—¶é—´å¤æ‚åº¦å°½é‡åšåˆ° O(n)\tâ€¢\tè¿”å›ä¸€ç»„ä¸‹æ ‡å³å¯ï¼Œæ— éœ€è€ƒè™‘é¡ºåº\tâ€¢\tæä¾› Swift æˆ– Objective-C å®ç°\n\nâœ¨ æç¤ºï¼š\nä½ å¯ä»¥ç”¨å“ˆå¸Œè¡¨è®°å½•è®¿é—®è¿‡çš„æ•°å­—åŠå…¶ä¸‹æ ‡ï¼Œåœ¨éå†æ—¶ç›´æ¥åˆ¤æ–­ target - å½“å‰å€¼ æ˜¯å¦å­˜åœ¨äº map ä¸­ã€‚\n\nğŸš€ æ‹“å±•æ€è€ƒï¼ˆå»ºè®®å°è¯•ï¼‰ï¼š\t1.\tå¦‚æœè¦æ±‚è¿”å›æ‰€æœ‰å¯èƒ½çš„ä¸¤æ•°ç»„åˆï¼ˆå³å¯èƒ½æœ‰å¤šä¸ªç­”æ¡ˆï¼‰ï¼Œä½ ä¼šæ€ä¹ˆåšï¼Ÿ\t2.\tå¦‚æœè¾“å…¥æ˜¯ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œä½ æ˜¯å¦å¯ä»¥ç”¨åŒæŒ‡é’ˆä¼˜åŒ–ï¼Ÿ\n\nğŸ”§ æ¨¡æ¿ï¼ˆSwift ç¤ºä¾‹ï¼‰ï¼š\nfunc twoSum(_ nums: [Int], _ target: Int) -&gt; [Int] &#123;    var map = [Int: Int]()  // è®°å½•æ•°å­—å’Œå¯¹åº”çš„ä¸‹æ ‡    for (index, num) in nums.enumerated() &#123;        let complement = target - num        if let otherIndex = map[complement] &#123;            return [otherIndex, index]        &#125;        map[num] = index    &#125;    return []&#125;\n\nJSç‰ˆæœ¬ï¼š\n/** * @param &#123;number[]&#125; nums * @param &#123;number&#125; target * @return &#123;number[]&#125; */var twoSum = function(nums, target) &#123;    let map = new Map();    for (let i = 0; i &lt; nums.length; i++) &#123;        let diff = target - nums[i];        if (map.has(diff)) &#123;            return [map.get(diff), i];        &#125;        map.set(nums[i], i);    &#125;&#125;;\n\nğŸ‘‰ LeetCode 1. ä¸¤æ•°ä¹‹å’Œ\n","categories":["ç®—æ³•"],"tags":["ç®—æ³•"]},{"title":"Day2-View å¸ƒå±€æµç¨‹","url":"/2025/04/24/Day2-View-%E5%B8%83%E5%B1%80%E6%B5%81%E7%A8%8B/","content":"View å¸ƒå±€æµç¨‹è¯¦è§£ä¸€ã€å¸ƒå±€æµç¨‹æ€»è§ˆiOS çš„è§†å›¾å¸ƒå±€æµç¨‹ç”± UIKit ç®¡ç†ï¼Œæ ¸å¿ƒéµå¾ªã€Œä»çˆ¶åˆ°å­ã€ä»å¤–å‘å†…ã€çš„é€’å½’æ›´æ–°æ–¹å¼ã€‚æ¶‰åŠçš„å…³é”®æ–¹æ³•æœ‰ï¼š\n\nlayoutSubviewsï¼šçœŸæ­£è¿›è¡Œå­è§†å›¾ä½ç½®å¸ƒå±€çš„åœ°æ–¹\nsetNeedsLayoutï¼šæ ‡è®°è§†å›¾ä¸ºéœ€è¦é‡æ–°å¸ƒå±€\nlayoutIfNeededï¼šç«‹å³å¼ºåˆ¶å¸ƒå±€\n\nå¸ƒå±€æµç¨‹å¦‚ä¸‹ï¼šå±æ€§å˜åŒ–ï¼ˆå¦‚ frameï¼‰æˆ–æ‰‹åŠ¨è§¦å‘â†“è°ƒç”¨ setNeedsLayoutï¼ˆæ ‡è®°éœ€è¦å¸ƒå±€ï¼‰â†“ä¸‹ä¸€ä¸ª runloop æ‰§è¡Œ layoutIfNeededâ†“ç³»ç»Ÿé€’å½’è°ƒç”¨ layoutSubviews è¿›è¡Œå¸ƒå±€\n\näºŒã€å…³é”®æ–¹æ³•è¯¦è§£1. setNeedsLayout\nä½œç”¨ï¼šæ ‡è®°å½“å‰è§†å›¾ä¸ºâ€œéœ€è¦é‡æ–°å¸ƒå±€â€\nè°ƒç”¨æ—¶æœºï¼šå½“è§†å›¾çŠ¶æ€æˆ–ä¾èµ–æ•°æ®å˜åŒ–æ—¶\næ³¨æ„ï¼šä¸ä¼šç«‹å³æ‰§è¡Œ layoutSubviewsï¼Œè€Œæ˜¯åœ¨ä¸‹ä¸€ä¸ª runloop è¿›è¡Œå¸ƒå±€\n\n[self.view setNeedsLayout];\n\n2. layoutIfNeeded\nä½œç”¨ï¼šç«‹å³æ‰§è¡Œå¸ƒå±€æµç¨‹ï¼ˆå¦‚æœå·²æ ‡è®°ï¼‰\nå¸¸ç”¨åœºæ™¯ï¼šåŠ¨ç”»ä¸­å¼ºåˆ¶æ›´æ–° layoutï¼Œç¡®ä¿è§†å›¾çŠ¶æ€æ­£ç¡®  [self.view layoutIfNeeded];\n\n3. layoutSubviews\nä½œç”¨ï¼šå¸ƒå±€å­è§†å›¾ï¼Œå­ç±»é€šè¿‡é‡å†™æ­¤æ–¹æ³•æ¥è‡ªå®šä¹‰å¸ƒå±€é€»è¾‘\nè°ƒç”¨æ–¹å¼ï¼šç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨ï¼Œæˆ–é€šè¿‡ layoutIfNeeded é—´æ¥è§¦å‘  - (void)layoutSubviews &#123;    [super layoutSubviews];    self.label.frame = CGRectMake(10, 10, 100, 40);&#125;\n\nä¸‰ã€å¸ƒå±€è§¦å‘æ—¶æœºå¸ƒå±€æµç¨‹ä¼šåœ¨ä»¥ä¸‹æƒ…å†µä¸‹è‡ªåŠ¨è§¦å‘ï¼š\n\nè§†å›¾åˆå§‹åŒ–å®Œæˆåé¦–æ¬¡æ·»åŠ åˆ°è§†å›¾å±‚çº§ä¸­\nframe &#x2F; bounds &#x2F; center å±æ€§æ”¹å˜\nè°ƒç”¨ setNeedsLayout + layoutIfNeeded\nå±å¹•æ—‹è½¬ã€è®¾å¤‡æ–¹å‘å˜åŒ–\nAuto Layout çº¦æŸå˜åŒ–\n\nå››ã€Auto Layout å‚ä¸å¸ƒå±€æµç¨‹å½“ä½¿ç”¨ Auto Layoutï¼ˆè‡ªåŠ¨å¸ƒå±€ï¼‰æ—¶ï¼š\n\nä¸æ¨èåœ¨ layoutSubviews ä¸­è®¾ç½® frame\næ›´æ–°çº¦æŸåº”åœ¨ updateConstraints æ–¹æ³•ä¸­å®Œæˆ\nupdateConstraints â†’ layoutSubviews â†’ drawRect æ˜¯å®Œæ•´çš„è°ƒç”¨é“¾  - (void)updateConstraints &#123;    // æ›´æ–°çº¦æŸ    [super updateConstraints];&#125;\n\näº”ã€UIView ä¸ CALayer çš„å…³ç³»\næ¯ä¸ª UIView éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ CALayer\nUIView.frame å®é™…ä¸Šæ˜¯æ“ä½œ CALayer.frame\nå¸ƒå±€æœ¬è´¨ä¸Šæ˜¯åœ¨æ›´æ–°å›¾å±‚çš„å±æ€§  NSLog(@&quot;%@&quot;, NSStringFromCGRect(self.view.layer.frame));\n\nå…­ã€æ–‡å­—ç‰ˆå¸ƒå±€æµç¨‹å›¾[è§†å›¾å±æ€§å˜æ›´]      â†“[setNeedsLayout] â†’ æ ‡è®°å¸ƒå±€      â†“[ä¸‹ä¸€ä¸ª runloop]      â†“[layoutIfNeeded] â†’ åˆ¤æ–­å¹¶è§¦å‘å¸ƒå±€      â†“[layoutSubviews] â†’ æ›´æ–°å­è§†å›¾ frame\n\nä¸ƒã€é¢è¯•é«˜é¢‘é—®é¢˜æ•´ç†Q1ï¼šlayoutSubviews å’Œ drawRect æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\nlayoutSubviewsï¼šç”¨äºæ›´æ–°å­è§†å›¾çš„å¸ƒå±€\ndrawRectï¼šç”¨äºè‡ªå®šä¹‰è§†å›¾ç»˜å›¾ï¼ˆå¦‚ Core Graphicsï¼‰\n\nQ2ï¼šå¦‚ä½•ç«‹å³è§¦å‘å¸ƒå±€ï¼Ÿ[self.view setNeedsLayout];[self.view layoutIfNeeded];\n\nQ3ï¼šä»€ä¹ˆæ—¶å€™ä¼šè°ƒç”¨ layoutSubviewsï¼Ÿ\næ·»åŠ åˆ°çˆ¶è§†å›¾å\nframe æ”¹å˜\nsetNeedsLayout + layoutIfNeeded\nAuto Layout è§¦å‘\n\nQ4ï¼šå¦‚ä½•åœ¨åŠ¨ç”»ä¸­ç¡®ä¿å¸ƒå±€ç”Ÿæ•ˆï¼Ÿ[UIView animateWithDuration:0.3 animations:^&#123;    // ä¿®æ”¹å¸ƒå±€å‰ç½®æ¡ä»¶    [self.view layoutIfNeeded]; // å¼ºåˆ¶ç«‹å³å¸ƒå±€&#125;];\n\nå…«ã€å‚è€ƒèµ„æ–™\nApple Developer æ–‡æ¡£ï¼šUIView Class Reference\nå®˜æ–¹æŒ‡å—ï¼šView Programming Guide for iOS\n\n","categories":["åŸºç¡€"]},{"title":"Day2-ç”¨æ ˆå®ç°é˜Ÿåˆ—","url":"/2025/04/24/Day2-%E7%94%A8%E6%A0%88%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97/","content":"ğŸ”— LeetCode 232 - Implement Queue using Stacks\nğŸ“Œ é¢˜ç›®æè¿°ï¼šä½¿ç”¨ä¸¤ä¸ªæ ˆ stackIn å’Œ stackOut å®ç°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ”¯æŒä»¥ä¸‹æ“ä½œï¼š\n\npush(x)ï¼šå°†å…ƒç´  x æ¨åˆ°é˜Ÿåˆ—çš„æœ«å°¾\npop()ï¼šç§»é™¤é˜Ÿåˆ—å¼€å¤´çš„å…ƒç´ å¹¶è¿”å›\npeek()ï¼šè¿”å›é˜Ÿåˆ—å¼€å¤´çš„å…ƒç´ \nempty()ï¼šè¿”å›é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º\n\nè¦æ±‚ï¼šåªèƒ½ä½¿ç”¨æ ˆçš„æ ‡å‡†æ“ä½œï¼ˆpush, pop, peek, emptyï¼‰\n\nğŸ’¡ è§£é¢˜æ€è·¯ï¼š\nå…¥é˜Ÿæ“ä½œï¼ˆpushï¼‰ç›´æ¥å¾€ stackIn ä¸­åŠ å…ƒç´ ï¼›\nå‡ºé˜Ÿæ“ä½œï¼ˆpop æˆ– peekï¼‰æ—¶ï¼Œå¦‚æœ stackOut ä¸ºç©ºï¼Œåˆ™å°† stackIn ä¸­çš„æ‰€æœ‰å…ƒç´ å€’åºè½¬ç§»åˆ° stackOutï¼›\nä¿è¯å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰çš„é¡ºåºã€‚\n\n\nâœ… JavaScript å®ç°ï¼švar MyQueue = function () &#123;    this.stackIn = [];    this.stackOut = [];&#125;;MyQueue.prototype.push = function (x) &#123;    this.stackIn.push(x);&#125;;MyQueue.prototype.pop = function () &#123;    if (this.stackOut.length === 0) &#123;        while (this.stackIn.length) &#123;            this.stackOut.push(this.stackIn.pop());        &#125;    &#125;    return this.stackOut.pop();&#125;;MyQueue.prototype.peek = function () &#123;    if (this.stackOut.length === 0) &#123;        while (this.stackIn.length) &#123;            this.stackOut.push(this.stackIn.pop());        &#125;    &#125;    return this.stackOut[this.stackOut.length - 1];&#125;;MyQueue.prototype.empty = function () &#123;    return this.stackIn.length === 0 &amp;&amp; this.stackOut.length === 0;&#125;;\n\n\n\nğŸ§  æ€è€ƒæ‹“å±•ï¼š\nå¦‚æœåè¿‡æ¥æ˜¯â€œç”¨é˜Ÿåˆ—å®ç°æ ˆâ€åº”è¯¥æ€ä¹ˆåšï¼ŸğŸ‘‰ LeetCode 225\né˜Ÿåˆ—ç›¸å…³æ‹“å±•é¢˜ï¼šæ»‘åŠ¨çª—å£æœ€å¤§å€¼ã€æœ€å°æ ˆç­‰\n\n","categories":["ç®—æ³•"],"tags":["ç®—æ³•"]},{"title":"Day3-æœ‰æ•ˆçš„æ‹¬å·","url":"/2025/04/25/Day3-%E6%9C%89%E6%95%88%E7%9A%84%E6%8B%AC%E5%8F%B7/","content":"ğŸ”— LeetCode 20 - Valid Parentheses\nğŸ“Œ é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ &#39;(&#39;, &#39;)&#39;, &#39;&#123;&#39;, &#39;&#125;&#39;, &#39;[&#39;, &#39;]&#39; çš„å­—ç¬¦ä¸² sï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ˜¯æœ‰æ•ˆçš„ã€‚\næœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š\n\nå·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚\nå·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚\nç©ºå­—ç¬¦ä¸²ä¹Ÿä¸ºæœ‰æ•ˆå­—ç¬¦ä¸²ã€‚\n\n\nğŸ’¡ è§£é¢˜æ€è·¯\nä½¿ç”¨æ ˆç»“æ„æ¥å¤„ç†æ‹¬å·åŒ¹é…ï¼›\né‡åˆ°å·¦æ‹¬å·å°±å…¥æ ˆï¼Œé‡åˆ°å³æ‹¬å·æ—¶åˆ¤æ–­æ˜¯å¦å’Œæ ˆé¡¶é…å¯¹ï¼›\nè‹¥åŒ¹é…ï¼Œåˆ™å¼¹å‡ºæ ˆé¡¶ï¼›å¦åˆ™ç›´æ¥è¿”å› falseï¼›\næœ€åæ ˆä¸ºç©ºï¼Œåˆ™ä¸ºåˆæ³•å­—ç¬¦ä¸²ã€‚\n\n\nâœ… JavaScript å®ç°var isValid = function (s) &#123;    const stack = [];    const map = &#123;        &#x27;)&#x27;: &#x27;(&#x27;,        &#x27;&#125;&#x27;: &#x27;&#123;&#x27;,        &#x27;]&#x27;: &#x27;[&#x27;    &#125;;    for (let char of s) &#123;        if ([&#x27;(&#x27;, &#x27;&#123;&#x27;, &#x27;[&#x27;].includes(char)) &#123;            stack.push(char);        &#125; else &#123;            if (stack.pop() !== map[char]) &#123;                return false;            &#125;        &#125;    &#125;    return stack.length === 0;&#125;;\n\n\nğŸ§  æ€è€ƒæ‹“å±•\næ‹¬å·åŒ¹é…æ˜¯æ ˆç»“æ„ç»å…¸åº”ç”¨ï¼Œè¯·ç†è§£å…¶åº•å±‚æ€æƒ³ï¼›\nLeetCode æ‹“å±•é¢˜æ¨èï¼š\n22. Generate Parenthesesï¼ˆæ‹¬å·ç”Ÿæˆï¼‰\n32. Longest Valid Parenthesesï¼ˆæœ€é•¿æœ‰æ•ˆæ‹¬å·ï¼‰\n\n\n\n","categories":["ç®—æ³•"]},{"title":"Day4-æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯","url":"/2025/04/27/Day4-%E6%9C%89%E6%95%88%E7%9A%84%E5%AD%97%E6%AF%8D%E5%BC%82%E4%BD%8D%E8%AF%8D/","content":"ğŸ”— LeetCode 242 - Valid Anagram\nğŸ“Œ é¢˜ç›®æè¿°ï¼šç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s å’Œ tï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ t æ˜¯å¦æ˜¯ s çš„å­—æ¯å¼‚ä½è¯ã€‚\nå­—æ¯å¼‚ä½è¯çš„å®šä¹‰ï¼šå¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­çš„å­—æ¯å‡ºç°çš„é¢‘ç‡ç›¸åŒä¸”å­—ç¬¦å®Œå…¨ä¸€è‡´ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å­—æ¯å¼‚ä½è¯ã€‚\n\nğŸ’¡ è§£é¢˜æ€è·¯ï¼šâ€¢\tå°†ä¸¤ä¸ªå­—ç¬¦ä¸² s å’Œ t çš„å­—æ¯å‡ºç°é¢‘æ¬¡ç»Ÿè®¡å‡ºæ¥ï¼Œè‹¥ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å­—æ¯é¢‘æ¬¡å®Œå…¨ç›¸åŒï¼Œåˆ™å®ƒä»¬æ˜¯å­—æ¯å¼‚ä½è¯ã€‚\nâ€¢\té€šè¿‡ä½¿ç”¨å“ˆå¸Œè¡¨æˆ–æ•°ç»„å­˜å‚¨å­—æ¯çš„é¢‘ç‡ã€‚\n\n\nâœ… JavaScript å®ç°ï¼švar isAnagram = function (s, t) &#123;    if (s.length !== t.length) return false;        const count = new Array(26).fill(0);        for (let i = 0; i &lt; s.length; i++) &#123;        count[s.charCodeAt(i) - &#x27;a&#x27;.charCodeAt(0)]++;        count[t.charCodeAt(i) - &#x27;a&#x27;.charCodeAt(0)]--;    &#125;        for (let i = 0; i &lt; 26; i++) &#123;        if (count[i] !== 0) return false;    &#125;        return true;&#125;;\n\n\n\n\nğŸ§  æ€è€ƒæ‹“å±•ï¼šâ€¢\tå­—æ¯å¼‚ä½è¯é—®é¢˜çš„ä¼˜åŒ–ï¼šå¦‚ä½•å‡å°‘ä¸å¿…è¦çš„æ¯”è¾ƒï¼Œæå‡ç®—æ³•æ•ˆç‡ï¼Ÿ\nâ€¢\tå¯¹æ¯”å…¶ä»–å­—ç¬¦ä¸²ç›¸å…³çš„é¢˜ç›®ï¼Œæ¯”å¦‚ 387. First Unique Character in a Stringã€‚\n\n\n","categories":["ç®—æ³•"]},{"title":"Day3-Block åˆ†ç±»ã€å˜é‡æ•è·ä¸ä½œç”¨åŸŸ","url":"/2025/04/25/Day3-Block-%E5%88%86%E7%B1%BB%E3%80%81%E5%8F%98%E9%87%8F%E6%8D%95%E8%8E%B7%E4%B8%8E%E4%BD%9C%E7%94%A8%E5%9F%9F/","content":"Block åˆ†ç±»ã€å˜é‡æ•è·ä¸ä½œç”¨åŸŸä¸€ã€Block çš„åˆ†ç±»Block åœ¨ Objective-C ä¸­ï¼Œæ ¹æ®å…¶å­˜å‚¨ä½ç½®å’Œç”Ÿå‘½å‘¨æœŸåˆ†ä¸ºä»¥ä¸‹ä¸‰ç±»ï¼š\n\n\n\nBlock ç±»å‹\nå­˜å‚¨ä½ç½®\nç‰¹ç‚¹è¯´æ˜\n\n\n\nGlobal Block\nå…¨å±€åŒº\nä¸æ•è·å¤–éƒ¨å˜é‡\n\n\nStack Block\næ ˆä¸Š\næ•è·å¤–éƒ¨å˜é‡ï¼Œéšæ ˆå¸§é”€æ¯\n\n\nHeap Block\nå †ä¸Š\næ•è·å¤–éƒ¨å˜é‡ï¼ŒBlock_copy åå­˜åœ¨å †ä¸Š\n\n\nç¤ºä¾‹ï¼švoid (^block1)(void) = ^&#123;    NSLog(@&quot;Hello&quot;);&#125;;// Global Blockint a = 10;void (^block2)(void) = ^&#123;    NSLog(@&quot;a = %d&quot;, a);&#125;;// Stack Blockvoid (^block3)(void) = [block2 copy];// Heap Block\n\n\näºŒã€å˜é‡æ•è·ï¼ˆCaptured Variablesï¼‰1. é»˜è®¤æ•è·ï¼ˆå€¼è¯­ä¹‰ï¼‰Block é»˜è®¤ä»¥å€¼æ–¹å¼æ‹·è´å±€éƒ¨å˜é‡ï¼Œä¸å¯ä¿®æ”¹ã€‚\nint a = 5;void (^block)(void) = ^&#123;    NSLog(@&quot;a is %d&quot;, a);&#125;;a = 6;block(); // è¾“å‡º a is 5\n\n2. __block ä¿®é¥°ï¼ˆå¼•ç”¨è¯­ä¹‰ï¼‰å…è®¸åœ¨ Block å†…éƒ¨ä¿®æ”¹å¤–éƒ¨å˜é‡ã€‚\n__block int a = 5;void (^block)(void) = ^&#123;    a = 10;&#125;;block();NSLog(@&quot;a is %d&quot;, a); // è¾“å‡º a is 10\n\n3. å¯¹è±¡æ•è·ï¼ˆæŒ‡é’ˆè¯­ä¹‰ï¼‰å¯¹è±¡å˜é‡ä»¥æŒ‡é’ˆå½¢å¼æ•è·ï¼Œä¼šè¢«å¼ºå¼•ç”¨ã€‚\nNSString *str = @&quot;Hello&quot;;void (^block)(void) = ^&#123;    NSLog(@&quot;%@&quot;, str);&#125;;// str è¢« retain\n\n\nä¸‰ã€ä½œç”¨åŸŸä¸å†…å­˜ç®¡ç†ç”Ÿå‘½å‘¨æœŸï¼š\nStack Block ç”Ÿå‘½å‘¨æœŸçŸ­ï¼Œè¶…å‡ºä½œç”¨åŸŸä¼šè¢«é”€æ¯ã€‚\néœ€è¦å¼‚æ­¥ä½¿ç”¨æ—¶ï¼Œå¿…é¡»å°† Block copy åˆ°å †ä¸Šï¼Œå˜ä¸º Heap Blockã€‚\nARC ä¸‹è‡ªåŠ¨è¿›è¡Œ copy æ“ä½œï¼›MRC éœ€æ‰‹åŠ¨è°ƒç”¨ Block_copyã€‚\n\nç¤ºä¾‹ï¼ˆARC å¼‚æ­¥å®‰å…¨ï¼‰ï¼šdispatch_async(dispatch_get_global_queue(0, 0), ^&#123;    NSLog(@&quot;Block executed&quot;);&#125;);// ARC è‡ªåŠ¨ copy åˆ°å †\n\n\nå››ã€Swift ä¸­çš„é—­åŒ…æ•è·Swift ä¸­é—­åŒ…é»˜è®¤å¼ºå¼•ç”¨æ•è·å¯¹è±¡ï¼š\nclass MyClass &#123;    var name = &quot;Test&quot;    func doSomething() &#123;        DispatchQueue.global().async &#123; [weak self] in            print(self?.name ?? &quot;nil&quot;)        &#125;    &#125;&#125;\n\nä½¿ç”¨ [weak self] &#x2F; [unowned self] å¯é¿å…å¾ªç¯å¼•ç”¨ã€‚\n\näº”ã€å°ç»“å¯¹æ¯”è¡¨\n\n\nåˆ†ç±»\næ˜¯å¦æ•è·å˜é‡\nå­˜å‚¨ä½ç½®\nç”Ÿå‘½å‘¨æœŸæ§åˆ¶\n\n\n\nGlobal Block\nå¦\nå…¨å±€åŒº\nç¨‹åºç”Ÿå‘½å‘¨æœŸå†…å¸¸é©»\n\n\nStack Block\næ˜¯\næ ˆä¸Š\néšæ ˆå¸§é”€æ¯\n\n\nHeap Block\næ˜¯\nå †ä¸Š\nBlock_copy åå­˜åœ¨äºå †ä¸­\n\n\n","categories":["åŸºç¡€"]},{"title":"Day5-Objective-C Runtime åŸºç¡€ç»“æ„","url":"/2025/04/28/Day5-Objective-C-Runtime-%E5%9F%BA%E7%A1%80%E7%BB%93%E6%9E%84/","content":"Objective-C Runtime åŸºç¡€ç»“æ„Objective-C è¿è¡Œæ—¶ç³»ç»Ÿï¼ˆRuntimeï¼‰æ˜¯ Objective-C è¯­è¨€çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå®ƒåœ¨ç¨‹åºè¿è¡ŒæœŸé—´è´Ÿè´£ç®¡ç†ç±»ã€å¯¹è±¡ã€æ–¹æ³•è°ƒç”¨ç­‰è¡Œä¸ºã€‚\nä¸»è¦çš„ç»“æ„ä½“å’Œç»„ä»¶åŒ…æ‹¬ï¼š\n1. objc_classï¼ˆç±»ç»“æ„ä½“ï¼‰struct objc_class &#123;    Class isa;                // æŒ‡å‘å…ƒç±»    Class super_class;        // çˆ¶ç±»    const char *name;         // ç±»å    long version;             // ç‰ˆæœ¬ä¿¡æ¯    long info;                // ç±»ä¿¡æ¯æ ‡å¿—    long instance_size;       // ç±»å®ä¾‹çš„å¤§å°    struct objc_ivar_list *ivars;    // æˆå‘˜å˜é‡åˆ—è¡¨    struct objc_method_list **methodLists; // æ–¹æ³•åˆ—è¡¨ï¼ˆæ•°ç»„ï¼‰    struct objc_cache *cache; // æ–¹æ³•ç¼“å­˜    struct objc_protocol_list *protocols; // åè®®åˆ—è¡¨&#125;;\n\næ³¨æ„ï¼šç°ä»£ Runtime ä¸­ï¼Œç»“æ„ä½“å·²ç»å˜åŒ–äº†ï¼Œä¸Šè¿°æ˜¯ç»å…¸ï¼ˆæ—©æœŸï¼‰çš„æè¿°ï¼Œæ–°çš„ç‰ˆæœ¬æ›´å¤æ‚ä¸”é«˜åº¦å°è£…ã€‚\n\n\n2. objc_objectï¼ˆå¯¹è±¡ç»“æ„ä½“ï¼‰struct objc_object &#123;    Class isa;  // æŒ‡å‘å¯¹è±¡æ‰€å±çš„ç±»&#125;;\n\næ¯ä¸€ä¸ªå¯¹è±¡åº•å±‚å…¶å®å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œæœ€é‡è¦çš„æˆå‘˜å°±æ˜¯ isaã€‚\nisa æ—¢å¯ä»¥æŒ‡å‘ Classï¼Œä¹Ÿå¯ä»¥æŒ‡å‘ Meta-Classï¼ˆå…ƒç±»ï¼‰ã€‚\n\n\n3. objc_methodï¼ˆæ–¹æ³•ç»“æ„ä½“ï¼‰struct objc_method &#123;    SEL name;      // æ–¹æ³•é€‰æ‹©å™¨ï¼ˆSelectorï¼‰    char *types;   // æ–¹æ³•çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹ç¼–ç     IMP imp;       // æ–¹æ³•å®ç°çš„å‡½æ•°æŒ‡é’ˆ&#125;;\n\nSEL æ˜¯æ–¹æ³•åçš„å”¯ä¸€æ ‡è¯†ã€‚\nIMP æ˜¯å‡½æ•°æŒ‡é’ˆï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ C å‡½æ•°çš„åœ°å€ã€‚\n\n\n4. objc_ivarï¼ˆæˆå‘˜å˜é‡ç»“æ„ä½“ï¼‰struct objc_ivar &#123;    char *name;        // å˜é‡å    char *typeEncoding; // ç±»å‹ç¼–ç     int offset;         // å˜é‡åœ¨å¯¹è±¡å†…å­˜ä¸­çš„åç§»é‡&#125;;\n\næˆå‘˜å˜é‡çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬åå­—ã€ç±»å‹å’Œå†…å­˜ä½ç½®ã€‚\n\n\n5. objc_propertyï¼ˆå±æ€§ç»“æ„ä½“ï¼‰åœ¨ç°ä»£ Runtime é‡Œé¢ï¼Œå±æ€§ä¹Ÿæœ‰è‡ªå·±çš„ç»“æ„ï¼š\ntypedef struct &#123;    const char *name;            // å±æ€§å    const char *attributes;      // å±æ€§ä¿®é¥°åˆ—è¡¨ï¼ˆä¾‹å¦‚ï¼šT@&quot;NSString&quot;,C,N,V_nameï¼‰&#125; objc_property_t;\n\nå±æ€§å…¶å®æ˜¯æˆå‘˜å˜é‡ + ä¸€äº›ç‰¹å®šç‰¹æ€§ï¼ˆgetter&#x2F;setterè§„åˆ™ï¼‰ã€‚\n\n\nå°æ€»ç»“\n\n\nç»„ä»¶\nä½œç”¨\n\n\n\nobjc_object\næ‰€æœ‰å¯¹è±¡çš„åŸºç¡€\n\n\nobjc_class\nç±»å¯¹è±¡æè¿°ç»“æ„\n\n\nobjc_method\næ–¹æ³•çš„å®šä¹‰\n\n\nobjc_ivar\næˆå‘˜å˜é‡å®šä¹‰\n\n\nobjc_property\nå±æ€§å®šä¹‰\n\n\n\nè¿›é˜¶è¡¥å……åœ¨ ç°ä»£ Objective-C Runtimeï¼ˆå¦‚ iOS 14+ï¼‰ï¼Œè¿™äº›ç»“æ„ä½“å®é™…ä¸Šè¢«è¿›ä¸€æ­¥å°è£…ä¼˜åŒ–ï¼Œæ¯”å¦‚ï¼š\n\nç±»ä½¿ç”¨ objc_class å’Œ objc_data_bits_tï¼ˆè”åˆä½“ï¼‰åˆ†ç¦»äº†ç¼“å­˜ã€åªè¯»æ•°æ®ç­‰ã€‚\nmethodList ä¹Ÿä½¿ç”¨æ›´ç´§å‡‘çš„é“¾è¡¨å­˜å‚¨ã€‚\nisa æŒ‡é’ˆé€šè¿‡ isa æŒ‡é’ˆä¼˜åŒ–ï¼ˆISAæŒ‡é’ˆæ‰“åŒ…ï¼‰ åŒ…å«äº†æ›´å¤šä¿¡æ¯ï¼Œæ¯”å¦‚å¼•ç”¨è®¡æ•°ã€æ˜¯å¦æœ‰C++ææ„å‡½æ•°ç­‰ã€‚\n\n\nç°ä»£ Objective-C Runtime çš„ä¼˜åŒ–\n\nobjc_class å’Œ objc_data_bits_t çš„åˆ†ç¦»\n\næ—©æœŸï¼ˆä¼ ç»Ÿï¼‰çš„ç»“æ„ï¼š\nåœ¨æ—©æœŸçš„ Objective-C Runtime ä¸­ï¼Œç±»å¯¹è±¡ï¼ˆobjc_classï¼‰åŒ…å«äº†æ‰€æœ‰å…³äºç±»çš„æè¿°ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š\n\nisa æŒ‡é’ˆï¼ˆæŒ‡å‘å…ƒç±»ï¼‰\nsuper_classï¼ˆçˆ¶ç±»æŒ‡é’ˆï¼‰\næˆå‘˜å˜é‡ã€æ–¹æ³•åˆ—è¡¨ã€å±æ€§ç­‰\n\nè¿™ç§ç»“æ„è™½ç„¶ç®€å•ï¼Œä½†éšç€ iOS è®¾å¤‡æ€§èƒ½çš„æé«˜ï¼Œè¿è¡Œæ—¶ç³»ç»Ÿä¹Ÿéœ€è¦å¯¹è¿™äº›æ•°æ®ç»“æ„è¿›è¡Œä¼˜åŒ–ã€‚\nç°ä»£ä¼˜åŒ–ï¼š\nåœ¨ iOS 14 åŠä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼ŒObjective-C Runtime é€šè¿‡ åˆ†ç¦» ç±»çš„å„ä¸ªç»„æˆéƒ¨åˆ†ï¼Œæé«˜äº†æ€§èƒ½å’Œå†…å­˜æ•ˆç‡ã€‚\nobjc_class ç°åœ¨ä¸»è¦åŒ…å« å…ƒç±»çš„å¼•ç”¨ï¼Œè€Œå…¶å®ƒæ•°æ®ï¼ˆå¦‚æ–¹æ³•åˆ—è¡¨ã€å±æ€§ã€æˆå‘˜å˜é‡ç­‰ï¼‰è¢«ç§»åˆ°äº† objc_data_bits_t ç»“æ„ä¸­ã€‚è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¯ï¼š\n\nç¼“å­˜å‹å¥½ï¼šç±»çš„å…ƒæ•°æ®å¯ä»¥è¢«å­˜å‚¨åœ¨å†…å­˜çš„ç´§å‡‘åŒºåŸŸï¼Œæé«˜äº†ç¼“å­˜å‘½ä¸­ç‡ã€‚\nåˆ†ç¦»å­˜å‚¨ï¼šç±»æ•°æ®å’Œæ–¹æ³•æ•°æ®åˆ†å¼€å­˜å‚¨ï¼Œé¿å…äº†å†—ä½™çš„å†…å­˜å ç”¨ã€‚\nå¢å¼ºçš„çµæ´»æ€§ï¼šå¯ä»¥åœ¨ä¸åŒçš„ç¡¬ä»¶æ¶æ„ä¸‹å¯¹è¿™äº›æ•°æ®è¿›è¡Œä¸åŒçš„å¸ƒå±€ï¼Œä»¥ä¾¿æ›´å¥½åœ°é€‚é…ä¸åŒçš„å†…å­˜å’Œå¤„ç†å™¨ç‰¹æ€§ã€‚\n\nä¾‹å­ï¼š\nobjc_class ç»“æ„å˜å¾—éå¸¸ç®€æ´ï¼š\nstruct objc_class &#123;    Class isa;                // æŒ‡å‘å…ƒç±»    Class super_class;        // çˆ¶ç±»    const char *name;         // ç±»å    ...    objc_data_bits_t data;    // ç±»çš„å…¶å®ƒå…ƒæ•°æ®ï¼Œå¦‚æ–¹æ³•ã€å±æ€§ã€ç¼“å­˜ç­‰&#125;;\n\nè€Œ objc_data_bits_t åˆ™åŒ…å«äº†å®é™…çš„æ•°æ®éƒ¨åˆ†ï¼š\nunion objc_data_bits_t &#123;    struct &#123;        method_list_t *methodList;   // æ–¹æ³•åˆ—è¡¨        ivar_list_t *ivarList;       // æˆå‘˜å˜é‡åˆ—è¡¨        property_list_t *propertyList; // å±æ€§åˆ—è¡¨        cache_t cache;               // æ–¹æ³•ç¼“å­˜    &#125;;    uintptr_t raw; // åŸå§‹å†…å­˜è¡¨ç¤º&#125;;\n\n\n\n\nmethodList å­˜å‚¨çš„ä¼˜åŒ–\n\næ—©æœŸå­˜å‚¨ï¼š\nä¼ ç»Ÿçš„ methodList æ˜¯åŸºäºé“¾è¡¨ï¼ˆLinked Listï¼‰å­˜å‚¨çš„ã€‚è¿™ç§æ–¹å¼è™½ç„¶ç®€å•ï¼Œä½†æŸ¥æ‰¾æ–¹æ³•æ—¶æ•ˆç‡è¾ƒä½ï¼Œå°¤å…¶æ˜¯åœ¨ç±»å±‚çº§å¾ˆæ·±æˆ–è€…æ–¹æ³•å¾ˆå¤šçš„æƒ…å†µä¸‹ã€‚\nç°ä»£ä¼˜åŒ–ï¼š\nåœ¨ç°ä»£çš„ Runtime ç³»ç»Ÿä¸­ï¼ŒmethodList ä¸å†æ˜¯å•çº¯çš„é“¾è¡¨ã€‚å®ƒç°åœ¨é‡‡ç”¨äº†ä¸€ç§ ç´§å‡‘çš„é“¾è¡¨ç»“æ„ï¼Œå¹¶ä¸”ç»“åˆäº† å“ˆå¸Œè¡¨ï¼ˆHash Tableï¼‰ æˆ–è€… äºŒå‰æœç´¢æ ‘ï¼ˆBinary Search Treeï¼‰ï¼Œå¤§å¤§æé«˜äº†æ–¹æ³•æŸ¥æ‰¾çš„æ•ˆç‡ã€‚\n\nå“ˆå¸Œè¡¨ï¼šé€šè¿‡å“ˆå¸Œå€¼æ¥å­˜å‚¨æ–¹æ³•ï¼ŒæŸ¥æ‰¾æ“ä½œæ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚\näºŒå‰æœç´¢æ ‘ï¼šå¦‚æœæ–¹æ³•åˆ—è¡¨è¾ƒå¤§ï¼Œå¯èƒ½ä½¿ç”¨æ ‘ç»“æ„æ¥æé«˜æŸ¥æ‰¾æ€§èƒ½ï¼ˆç‰¹åˆ«æ˜¯æ–¹æ³•åæ’åºåï¼‰ã€‚\n\nè¿™ç§ä¼˜åŒ–ä½¿å¾—å¯¹äºé¢‘ç¹è°ƒç”¨çš„æ–¹æ³•ï¼Œèƒ½å¤Ÿä»¥æ›´é«˜çš„æ•ˆç‡è¿›è¡ŒæŸ¥æ‰¾ã€‚\nä¼˜åŒ–çš„å¥½å¤„ï¼š\n\næ–¹æ³•æŸ¥æ‰¾é€Ÿåº¦æ›´å¿«ã€‚\né™ä½äº†å†…å­˜å ç”¨ï¼Œå°¤å…¶åœ¨æ–¹æ³•å¾ˆå¤šçš„ç±»ä¸­è¡¨ç°å°¤ä¸ºçªå‡ºã€‚\n\n\nisa æŒ‡é’ˆä¼˜åŒ–ï¼ˆISAæŒ‡é’ˆæ‰“åŒ…ï¼‰\n\næ—©æœŸ isa æŒ‡é’ˆï¼š\næ—©æœŸçš„ isa æŒ‡é’ˆå®é™…ä¸Šæ˜¯ä¸€ä¸ªå•çº¯çš„æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘å½“å‰å¯¹è±¡æ‰€å±çš„ç±»ã€‚å½“æˆ‘ä»¬éœ€è¦åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹æ—¶ï¼Œå¿…é¡»é€šè¿‡è¿™ä¸ªæŒ‡é’ˆè¿›è¡ŒæŸ¥æ‰¾ã€‚è¿™ä¸ªè¿‡ç¨‹è™½ç„¶æœ‰æ•ˆï¼Œä½†éšç€å†…å­˜å’Œå¤„ç†å™¨æ¶æ„çš„å˜åŒ–ï¼Œå…¶æ•ˆç‡å¹¶æ²¡æœ‰å¾—åˆ°æœ€ä¼˜çš„åˆ©ç”¨ã€‚\nç°ä»£ä¼˜åŒ–ï¼š\niOS 14 åŠä¹‹åçš„ç‰ˆæœ¬å¼•å…¥äº† ISA æŒ‡é’ˆæ‰“åŒ…ï¼ˆISA pointer packingï¼‰ çš„æ¦‚å¿µï¼Œä½¿å¾— isa æŒ‡é’ˆå˜å¾—æ›´åŠ é«˜æ•ˆã€‚å…·ä½“æ¥è¯´ï¼š\n\nå‹ç¼©æŒ‡é’ˆï¼šisa ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒåŒ…å«äº†æ›´å¤šçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š\nå¼•ç”¨è®¡æ•°ï¼šå¯ä»¥é€šè¿‡ isa å­—æ®µç›´æ¥è·å–å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼ˆè€Œä¸éœ€è¦é¢å¤–çš„å­—æ®µï¼‰ã€‚\nC++ ææ„å‡½æ•°æ”¯æŒï¼šå¯¹äº C++ å¯¹è±¡ï¼Œisa å¯ä»¥åŒ…å«ä¸€ä¸ªæ ‡è®°ï¼Œè¡¨æ˜è¯¥å¯¹è±¡æ˜¯å¦æœ‰ C++ ææ„å‡½æ•°éœ€è¦è°ƒç”¨ã€‚\næŒ‡é’ˆå‹ç¼©ï¼šé’ˆå¯¹ 64 ä½è®¾å¤‡ï¼ŒæŒ‡é’ˆå·²ç»è¢«å‹ç¼©ï¼ŒèŠ‚çœäº†å†…å­˜ç©ºé—´ã€‚\næŒ‡é’ˆå¸ƒå±€ï¼šé€šè¿‡ä¼˜åŒ–æŒ‡é’ˆçš„å¸ƒå±€ï¼Œå¯ä»¥å‡å°‘å†…å­˜è®¿é—®çš„å»¶è¿Ÿã€‚ä¾‹å¦‚ï¼Œå°†å¸¸ç”¨çš„æ ‡è®°å’Œä¿¡æ¯æ”¾åœ¨ isa ä¸­ï¼Œå‡å°‘äº†ç¼“å­˜ç¼ºå¤±çš„æ¦‚ç‡ã€‚\n\nç»“æ„å˜åŒ–ï¼š\nstruct objc_object &#123;    Class isa;   // å‹ç¼©åçš„ isa æŒ‡é’ˆï¼ŒåŒ…å«æ›´å¤šä¿¡æ¯&#125;;\n\nè¿™ç§ä¼˜åŒ–ä½¿å¾—ï¼š\tâ€¢\tå†…å­˜ä½¿ç”¨ï¼šå‡å°‘äº†å†…å­˜å ç”¨ã€‚\tâ€¢\tæ•ˆç‡æå‡ï¼šè®¿é—®å¯¹è±¡æ‰€å±ç±»æ—¶çš„æ•ˆç‡å¤§å¹…æé«˜ã€‚\n\næ€»ç»“\nåœ¨ç°ä»£ Objective-C Runtime ä¸­ï¼Œç»“æ„ä½“çš„ä¼˜åŒ–å’ŒæŒ‡é’ˆçš„æ‰“åŒ…å¤§å¤§æå‡äº†ç³»ç»Ÿçš„æ€§èƒ½ï¼Œå°¤å…¶æ˜¯åœ¨å†…å­˜å ç”¨å’Œæ–¹æ³•æŸ¥æ‰¾é€Ÿåº¦ä¸Šã€‚é‡ç‚¹ä¼˜åŒ–å¦‚ä¸‹ï¼š\tâ€¢\tobjc_class å’Œ objc_data_bits_t çš„åˆ†ç¦»ï¼šæé«˜äº†å†…å­˜å¸ƒå±€çš„ç´§å‡‘æ€§å’Œæ•ˆç‡ã€‚\tâ€¢\tmethodList çš„ä¼˜åŒ–ï¼šç»“åˆå“ˆå¸Œè¡¨å’ŒäºŒå‰æœç´¢æ ‘ï¼Œæé«˜äº†æ–¹æ³•æŸ¥æ‰¾çš„æ•ˆç‡ã€‚\tâ€¢\tisa æŒ‡é’ˆä¼˜åŒ–ï¼šé€šè¿‡æŒ‡é’ˆæ‰“åŒ…ï¼Œå‡å°‘äº†å†…å­˜å ç”¨ï¼Œå¹¶åŠ é€Ÿäº†å¯¹è±¡çš„ç±»å‹æŸ¥æ‰¾å’Œå¼•ç”¨è®¡æ•°ç®¡ç†ã€‚\nè¿™äº›æ”¹è¿›çš„æ ¸å¿ƒç›®çš„æ˜¯ï¼šæå‡æ€§èƒ½ã€å‡å°‘å†…å­˜å ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨ iOS è®¾å¤‡ä¸Šï¼Œç¡®ä¿è¿è¡Œæ—¶ç³»ç»Ÿèƒ½å¤Ÿåœ¨æœ‰é™çš„ç¡¬ä»¶èµ„æºä¸Šé«˜æ•ˆè¿è¡Œã€‚\n\n","categories":["åŸºç¡€"]},{"title":"Day4-Block å†…å­˜ç®¡ç† & å¾ªç¯å¼•ç”¨åˆ†æ","url":"/2025/04/27/Day4-Block-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86-%E5%BE%AA%E7%8E%AF%E5%BC%95%E7%94%A8%E5%88%86%E6%9E%90/","content":"Block å†…å­˜ç®¡ç† &amp; å¾ªç¯å¼•ç”¨åˆ†æ1. Block çš„ç»“æ„ä½“æœ¬è´¨Block åœ¨åº•å±‚å…¶å®æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼š\nstruct Block_literal &#123;    void *isa;                      // æŒ‡å‘ Block ç±»å¯¹è±¡    int flags;                      // æ ‡å¿—ä½ï¼ˆæ˜¯å¦æœ‰ copy/dispose ç­‰ï¼‰    int reserved;                   // ä¿ç•™å­—æ®µ    void (*invoke)(void *, ...);     // å‡½æ•°æŒ‡é’ˆï¼ŒBlock å®é™…æ‰§è¡Œé€»è¾‘    struct Block_descriptor *descriptor;  // Block æè¿°ä¿¡æ¯    // captured variables...&#125;;\n\n2. æ•è·å¤–éƒ¨å˜é‡æ—¶ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ\n\n\nå˜é‡ç±»å‹\næ•è·æ–¹å¼\nå†…å­˜ç®¡ç†è¡Œä¸º\n\n\n\nåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆint&#x2F;floatï¼‰\nå€¼æ‹·è´\nä¸å½±å“å†…å­˜ç®¡ç†\n\n\nObjective-C å¯¹è±¡\nå¼ºå¼•ç”¨ï¼ˆretainï¼‰\néœ€è¦æ³¨æ„å¾ªç¯å¼•ç”¨\n\n\n__block ä¿®é¥°çš„å¯¹è±¡\næŒ‡é’ˆæ‹·è´ï¼Œä½†æœ¬èº«ä»å¯èƒ½å¼ºå¼•ç”¨\néœ€é…åˆ __weak __block\n\n\n3. Block çš„ copy å’Œ dispose å‡½æ•°Block å¦‚æœæ•è·äº†å¯¹è±¡ï¼Œåº•å±‚ä¼šè‡ªåŠ¨ç”Ÿæˆ copy å’Œ dispose å‡½æ•°ï¼š\n\ncopy ï¼š retain æ•è·çš„å¯¹è±¡\ndispose ï¼š release æ•è·çš„å¯¹è±¡\n\nç®€åŒ–ç¤ºä¾‹ï¼š\nvoid _Block_copy(void *dst, void *src) &#123;    objc_retain(capturedObj);&#125;void _Block_dispose(void *src) &#123;    objc_release(capturedObj);&#125;\n\n4. æ·±å±‚æ¬¡çš„å¾ªç¯å¼•ç”¨åˆ†æå¸¸è§å¯¼è‡´ Block å¾ªç¯å¼•ç”¨çš„åœºæ™¯ï¼š\n\nNSTimer &#x2F; CADisplayLink &#x2F; GCD\nå¼‚æ­¥ä»»åŠ¡ (dispatch_async)\né“¾å¼è°ƒç”¨\n\næ ‡å‡†é˜²å¾ªç¯å†™æ³•ï¼š\n__weak typeof(self) weakSelf = self;self.myBlock = ^&#123;    __strong typeof(weakSelf) strongSelf = weakSelf;    if (!strongSelf) return;    [strongSelf doSomething];&#125;;\n\n\n\nBlock é«˜é¢‘é¢è¯•é—®ç­”1. Block çš„ç±»å‹æœ‰å“ªäº›ï¼Ÿåˆ†åˆ«ä»€ä¹ˆæ—¶å€™å‡ºç°ï¼Ÿç­”ï¼š\n\nGlobal Blockï¼šä¸æ•è·å¤–éƒ¨å˜é‡ï¼Œå­˜å‚¨åœ¨å…¨å±€åŒºã€‚\nStack Blockï¼šæ•è·äº†å¤–éƒ¨å˜é‡ï¼Œå­˜å‚¨åœ¨æ ˆä¸Šã€‚\nMalloc Blockï¼šæ‹·è´è‡ª Stack Blockï¼Œå­˜å‚¨åœ¨å †ä¸Šã€‚\n\nARC ä¸‹åªå­˜åœ¨ Global Block å’Œ Malloc Blockã€‚\n\n2. Block åœ¨ ARC ä¸‹æ˜¯å¦‚ä½•å†…å­˜ç®¡ç†çš„ï¼Ÿç­”ï¼š\n\nARC ä¼šè‡ªåŠ¨å¯¹ Block æ‰§è¡Œ copy æ“ä½œï¼Œå°†å…¶ä»æ ˆæ‹·è´åˆ°å †ä¸Šã€‚\nä½¿ç”¨ __strong æŒ‡é’ˆæŒæœ‰ Block æ—¶ï¼Œé»˜è®¤æ˜¯å † Blockã€‚\n\n\n3. å¦‚ä½•åˆ¤æ–­ä¸€ä¸ª Block æ˜¯å¦é€ æˆäº†å¾ªç¯å¼•ç”¨ï¼Ÿç­”ï¼š\n\næ£€æŸ¥ Block å†…æ˜¯å¦ä½¿ç”¨äº† selfã€‚\næ£€æŸ¥ self æ˜¯å¦å¼ºå¼•ç”¨äº† Blockï¼ˆæ¯”å¦‚ Block æ˜¯ self çš„å±æ€§ï¼‰ã€‚\nä½¿ç”¨ Instruments çš„ Leaks å·¥å…·åˆ†æå†…å­˜æ³„æ¼ã€‚\n\n\n4. __block ä¿®é¥°ç¬¦åœ¨ ARC å’Œ MRC ä¸‹åˆ†åˆ«æ˜¯ä»€ä¹ˆè¡Œä¸ºï¼Ÿç­”ï¼š\n\nMRCï¼š__block å…è®¸ä¿®æ”¹å˜é‡ï¼Œä½†ä¸ä¼šè‡ªåŠ¨ç®¡ç†å¼•ç”¨è®¡æ•°ã€‚\nARCï¼š__block å…è®¸ä¿®æ”¹ï¼Œä½†å¹¶ä¸ä¼šå¼±åŒ–å¼•ç”¨å…³ç³»ï¼Œéœ€è¦è‡ªå·±å¤„ç†å¼±å¼•ç”¨ã€‚\n\n\n5. Block ä¸ºä»€ä¹ˆå®¹æ˜“å¼•èµ·å†…å­˜æ³„æ¼ï¼Ÿå…·ä½“æœ‰å“ªäº›åœºæ™¯ï¼Ÿç­”ï¼šå› ä¸º Block æ•è·å˜é‡æ˜¯å¼ºå¼•ç”¨ï¼Œç‰¹åˆ«æ˜¯å¯¹è±¡æŒ‡é’ˆï¼Œå¦‚ä¸‹åœºæ™¯å¸¸å‡ºé—®é¢˜ï¼š\n\nUIViewController çš„ Block å±æ€§å†…éƒ¨å¼•ç”¨äº† self\nNSTimerã€CADisplayLinkã€GCD ä¸­çš„ Block\n\nè§£å†³åŠæ³•ï¼š\n\nä½¿ç”¨ __weak\nå®šæ—¶å™¨ä½¿ç”¨ weakProxy\nGCD æ³¨æ„ç”Ÿå‘½å‘¨æœŸæ§åˆ¶\n\n\nå°ç»“ç†è§£ Block çš„å†…å­˜ç‰¹æ€§ã€å¼•ç”¨å…³ç³»å˜åŒ–ï¼ˆstack â†’ heapï¼‰ã€ä»¥åŠåœ¨ ARC ä¸‹çš„é»˜è®¤ copy æœºåˆ¶ï¼Œæ˜¯å½»åº•æŒæ¡ iOS å†…å­˜ç®¡ç†çš„å…³é”®ã€‚\n","categories":["åŸºç¡€"]},{"title":"Day5-ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„","url":"/2025/04/28/Day5-%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C-II-%E8%BE%93%E5%85%A5%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84/","content":"ğŸ”— LeetCode 167 - Two Sum II - Input Array Is Sorted\nğŸ“Œ é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªå·²æŒ‰å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ numbers å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨æ•°ç»„ä¸­æ‰¾å‡ºä¸¤ä¸ªæ•°ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œä¸ºç›®æ ‡å€¼ targetï¼Œå¹¶è¿”å›è¿™ä¸¤ä¸ªæ•°çš„ä¸‹æ ‡ã€‚\næ³¨æ„ï¼š  \n\nè¿”å›çš„ç­”æ¡ˆæ˜¯ä¸€ä¸ª 1 ç´¢å¼•çš„æ•°ç»„ã€‚\nå‡è®¾æ¯ä¸ªè¾“å…¥åªå¯¹åº”ä¸€ä¸ªç­”æ¡ˆï¼Œä¸”ä½ ä¸å¯ä»¥é‡å¤ä½¿ç”¨æ•°ç»„ä¸­çš„å…ƒç´ ã€‚\n\n\nğŸ’¡ è§£é¢˜æ€è·¯\nç”±äºæ•°ç»„å·²æ’åºï¼Œå¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆæ³•ï¼š\n\nåˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘æ•°ç»„çš„å¼€å¤´ï¼Œä¸€ä¸ªæŒ‡å‘æ•°ç»„çš„æœ«å°¾ã€‚\nå¦‚æœä¸¤æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ ä¹‹å’Œç­‰äºç›®æ ‡å€¼ï¼Œè¿”å›è¿™ä¸¤ä¸ªæŒ‡é’ˆçš„ä¸‹æ ‡ï¼›\nå¦‚æœå’Œå°äºç›®æ ‡å€¼ï¼Œè¯´æ˜éœ€è¦å¢å¤§å’Œï¼Œå·¦æŒ‡é’ˆå³ç§»ï¼›\nå¦‚æœå’Œå¤§äºç›®æ ‡å€¼ï¼Œè¯´æ˜éœ€è¦å‡å°å’Œï¼Œå³æŒ‡é’ˆå·¦ç§»ã€‚\n\n\nè¿™ç§æ–¹æ³•æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ï¼Œæ•ˆç‡è¾ƒé«˜ã€‚\n\n\n\nâœ… JavaScript å®ç°var twoSum = function (numbers, target) &#123;    let left = 0;    let right = numbers.length - 1;        while (left &lt; right) &#123;        const sum = numbers[left] + numbers[right];        if (sum === target) &#123;            return [left + 1, right + 1];  // æ³¨æ„è¿”å›çš„ä¸‹æ ‡æ˜¯ä» 1 å¼€å§‹çš„        &#125; else if (sum &lt; target) &#123;            left++;        &#125; else &#123;            right--;        &#125;    &#125;&#125;;\n\n\nğŸ§  æ€è€ƒæ‹“å±•\nå¦‚æœæ•°ç»„ä¸æ˜¯æœ‰åºçš„ï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ\næœ¬é¢˜å’Œ LeetCode 1. Two Sum çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæ˜¯å¦‚ä½•åˆ©ç”¨æ’åºä¼˜åŒ–è§£æ³•çš„ï¼Ÿ\n\n\n","categories":["ç®—æ³•"]},{"title":"Day6-Runtime å®æˆ˜æŠ€å·§","url":"/2025/04/29/Day6-Runtime-%E5%AE%9E%E6%88%98%E6%8A%80%E5%B7%A7/","content":"ä¸€ã€å®šä¹‰Runtime æ˜¯ä»€ä¹ˆï¼Ÿ\n\nObjective-C çš„ Runtime å®é™…ä¸Šæ˜¯ C è¯­è¨€çš„ä¸€å¥—å‡½æ•°å’Œç±»åº“ï¼Œç”¨äºæ”¯æŒ Objective-C ç¼–ç¨‹è¯­è¨€çš„åŠ¨æ€æ€§ï¼ŒåŒ…æ‹¬ç±»çš„åˆ›å»ºã€æ–¹æ³•è°ƒç”¨ã€å±æ€§è®¿é—®ç­‰ã€‚\n\n\näºŒã€Runtime å®æˆ˜æŠ€å·§1.Method Swizzlingï¼ˆæ–¹æ³•äº¤æ¢ï¼‰1. ä»€ä¹ˆæ˜¯ Method Swizzlingï¼Ÿ\nå®šä¹‰ï¼šåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œäº¤æ¢ä¸¤ä¸ªæ–¹æ³•å®ç°çš„è¿‡ç¨‹ã€‚\næœ¬è´¨ï¼šä¿®æ”¹æ–¹æ³•å¯¹åº”çš„ IMPï¼ˆæŒ‡å‘å‡½æ•°å®ç°çš„æŒ‡é’ˆï¼‰ã€‚\nå¸¸ç”¨åœºæ™¯ï¼š\nç»™ç³»ç»Ÿæ–¹æ³•åŠ åŠŸèƒ½\næ›¿æ¢ç³»ç»Ÿæ–¹æ³•è¡Œä¸º\nAOP\n\n\n\n2. å¦‚ä½•å®ç° Swizzlingï¼Ÿå¸¸ç”¨ APIï¼š\nMethod class_getInstanceMethod(Class cls, SEL name);void method_exchangeImplementations(Method m1, Method m2);\n\nä»£ç ç¤ºä¾‹ï¼š\n@implementation UIViewController (Swizzling)+ (void)load &#123;    static dispatch_once_t onceToken;    dispatch_once(&amp;onceToken, ^&#123;        Method originalMethod = class_getInstanceMethod(self, @selector(viewWillAppear:));        Method swizzledMethod = class_getInstanceMethod(self, @selector(my_viewWillAppear:));        method_exchangeImplementations(originalMethod, swizzledMethod);    &#125;);&#125;- (void)my_viewWillAppear:(BOOL)animated &#123;    NSLog(@&quot;é¡µé¢å°†è¦å‡ºç°ï¼š%@&quot;, self);    [self my_viewWillAppear:animated];&#125;@end\n\n3. æ³¨æ„äº‹é¡¹\n+load å’Œ dispatch_once ä¿è¯åªæ‰§è¡Œä¸€æ¬¡ã€‚\nç¡®ä¿æ–¹æ³•å­˜åœ¨ï¼Œé¿å…å¼•èµ·ç¨‹åºå´©æºƒã€‚\næ³¨æ„ç»§æ‰¿å…³ç³»å’Œå­ç±»è¦†ç›–é—®é¢˜ã€‚\n\n\n2.æ¶ˆæ¯è½¬å‘æœºåˆ¶1. ä»€ä¹ˆæ˜¯æ¶ˆæ¯è½¬å‘ï¼Ÿ\nå½“å¯¹è±¡æ”¶åˆ°æ— æ³•å“åº”çš„æ¶ˆæ¯ï¼Œæœ‰ä¸‰æ¬¡æœºä¼šå¤„ç†ï¼š\nåŠ¨æ€æ–¹æ³•è§£æï¼ˆresolveInstanceMethod:ï¼‰\nå¤‡ç”¨æ¥æ”¶è€…ï¼ˆforwardingTargetForSelector:ï¼‰\nå®Œæ•´æ¶ˆæ¯è½¬å‘ï¼ˆforwardInvocation:ï¼‰\n\n\n\n2. è¯¦ç»†æµç¨‹ï¼ˆï¼‘ï¼‰åŠ¨æ€æ–¹æ³•è§£æ+ (BOOL)resolveInstanceMethod:(SEL)sel\nç¤ºä¾‹ï¼š\n+ (BOOL)resolveInstanceMethod:(SEL)sel &#123;    if (sel == @selector(run)) &#123;        class_addMethod(self, sel, (IMP)runFunction, &quot;v@:&quot;);        return YES;    &#125;    return [super resolveInstanceMethod:sel];&#125;\n\nï¼ˆï¼’ï¼‰å¿«é€Ÿè½¬å‘- (id)forwardingTargetForSelector:(SEL)aSelector\nç¤ºä¾‹ï¼š\n- (id)forwardingTargetForSelector:(SEL)aSelector &#123;    if (aSelector == @selector(run)) &#123;        return self.delegate;    &#125;    return [super forwardingTargetForSelector:aSelector];&#125;\n\nï¼ˆï¼“ï¼‰å®Œæ•´æ¶ˆæ¯è½¬å‘- (NSMethodSignature *)methodSignatureForSelector:(SEL)aSelector- (void)forwardInvocation:(NSInvocation *)anInvocation\nç¤ºä¾‹ï¼š\n- (NSMethodSignature *)methodSignatureForSelector:(SEL)aSelector &#123;    if (aSelector == @selector(run)) &#123;        return [NSMethodSignature signatureWithObjCTypes:&quot;v@:&quot;];    &#125;    return [super methodSignatureForSelector:aSelector];&#125;- (void)forwardInvocation:(NSInvocation *)anInvocation &#123;    SEL sel = [anInvocation selector];    if ([self.delegate respondsToSelector:sel]) &#123;        [anInvocation invokeWithTarget:self.delegate];    &#125; else &#123;        [super forwardInvocation:anInvocation];    &#125;&#125;\n\n3. å…³è”å¯¹è±¡ (Associated Objects)å®šä¹‰ï¼šåœ¨ä¸æ”¹åŠ¨åŸç±»çš„åŸºç¡€ä¸Šï¼Œç»™åˆ†ç±»ã€æ‰©å±•ç±»å¢åŠ å®ä½“å±æ€§ã€‚\nå¸¸ç”¨ APIï¼š\n\nobjc_setAssociatedObject\nobjc_getAssociatedObject\n\nåº”ç”¨åœºæ™¯ï¼š\n\nUIButton å¢åŠ é˜²é‡å¤ç‚¹å‡»æ—¶é—´é—´éš”\n\n4. åŠ¨æ€ç”Ÿæˆç±»å’Œæ–¹æ³•å¸¸ç”¨ APIï¼š\n\nobjc_allocateClassPair\nclass_addMethod\n\nåº”ç”¨åœºæ™¯ï¼š\n\nKVO å†…éƒ¨åŸç†ï¼ˆåˆ›å»ºå­ç±»ï¼‰\nORMæ¡†æ¶è‡ªåŠ¨ç”Ÿæˆå¯¹åº”å±æ€§\n\n5. å®Œå…¨è‡ªåŠ¨ NSCoding å®Œæˆæ€è·¯ï¼šé€šè¿‡ Runtime éå† ivarï¼Œè‡ªåŠ¨ encode&#x2F;decodeï¼Œæ— éœ€æ‰‹å†™ä»£ç ã€‚\nåº”ç”¨åœºæ™¯ï¼š\n\nModel æŒä¹…åŒ–\nç®€åŒ–ç”¨æˆ·æ•°æ®å¤„ç†\n\n6. å®ç°å®‰å…¨é˜²æŠ¤ï¼ˆé˜² Crashï¼‰æ€è·¯ï¼šæ›´æ¢ NSArray, NSDictionary, NSString ç­‰ç±»çš„æ–¹æ³•ï¼Œé˜²æ­¢è·¯å¾„é”™è¯¯ã€ç´¢å¼•è¶Šç•Œç­‰ crashã€‚\nåº”ç”¨åœºæ™¯ï¼š\n\nå®‰å…¨æ€§æ¡†æ¶ SafeKit\né¡¹ç›®å®‰å…¨çº§åˆ«æå‡\n\n7. æ•°æ®æ¨¡å‹å®ä½“åŒ–ï¼ˆå®Œå…¨è‡ªåŠ¨åŒ–ç­‰ï¼‰æ€è·¯ï¼šé€šè¿‡ property åˆ—è¡¨ï¼Œæ ¹æ® key-value å°† JSON è½¬ä¸º Modelï¼Œæˆ–åè½¬ã€‚\nåº”ç”¨åœºæ™¯ï¼š\n\nYYModel\nMJExtension\n\n8. æ–¹æ³•æ›¿æ¢ IMPåº”ç”¨ï¼š\n\nhook ç³»ç»Ÿæ–¹æ³•ï¼Œå¹¶åŠ è‡ªå·±é€»è¾‘\næ§åˆ¶æ–¹æ³•æ‰§è¡Œæµç¨‹\n\nç¤ºä¾‹ï¼š\n\nåœ¨ App è¿›å…¥å‰åå°æ—¶ï¼Œç»Ÿä¸€ç®¡ç†å°è£…\n\n9. é«˜çº§æ¶ˆæ¯è½¬å‘ (NSProxy)åº”ç”¨ï¼š\n\nå¼±ä»£ç†ï¼ˆé¿å…å¾ªç¯å¼•ç”¨ã€Timer æ³„æ¼ï¼‰\nå¤šä»£ç†åŒæ­¥åˆ†å‘\næ€§èƒ½å¼ºåŒ–\n\n\nä¸‰ã€å®æˆ˜æ¡ˆä¾‹æ¡ˆä¾‹1ï¼šé˜²æ­¢ UIButton é‡å¤ç‚¹å‡»èƒŒæ™¯\n\nUIButton è¿ç»­ç‚¹å‡»å®¹æ˜“é€ æˆæ¥å£é‡å¤è¯·æ±‚ã€‚\næƒ³ç»™æ‰€æœ‰ UIButton åŠ é˜²æŠ–ï¼Œä¸æ”¹åŠ¨ç°æœ‰ä¸šåŠ¡ä»£ç ã€‚\n\n\næ€è·¯\nç”¨ Method Swizzlingï¼Œæ›¿æ¢ sendAction:to:forEvent: æ–¹æ³•ï¼Œåœ¨é‡Œé¢åŠ èŠ‚æµé€»è¾‘ã€‚\n\nä»£ç ç¤ºä¾‹\nUIButton+AntiRepeat.h\n#import &lt;UIKit/UIKit.h&gt;@interface UIButton (AntiRepeat)@property (nonatomic, assign) NSTimeInterval eventInterval; // ç‚¹å‡»é—´éš”@property (nonatomic, assign) NSTimeInterval lastEventTime; // ä¸Šæ¬¡ç‚¹å‡»æ—¶é—´@end\nUIButton+AntiRepeat.m\n#import &quot;UIButton+AntiRepeat.h&quot;#import &lt;objc/runtime.h&gt;@implementation UIButton (AntiRepeat)+ (void)load &#123;    static dispatch_once_t onceToken;    dispatch_once(&amp;onceToken, ^&#123;        Method original = class_getInstanceMethod(self, @selector(sendAction:to:forEvent:));        Method swizzled = class_getInstanceMethod(self, @selector(my_sendAction:to:forEvent:));        method_exchangeImplementations(original, swizzled);    &#125;);&#125;// å…³è”å¯¹è±¡ eventInterval- (NSTimeInterval)eventInterval &#123;    return [objc_getAssociatedObject(self, _cmd) doubleValue];&#125;- (void)setEventInterval:(NSTimeInterval)eventInterval &#123;    objc_setAssociatedObject(self, @selector(eventInterval), @(eventInterval), OBJC_ASSOCIATION_RETAIN_NONATOMIC);&#125;// å…³è”å¯¹è±¡ lastEventTime- (NSTimeInterval)lastEventTime &#123;    return [objc_getAssociatedObject(self, _cmd) doubleValue];&#125;- (void)setLastEventTime:(NSTimeInterval)lastEventTime &#123;    objc_setAssociatedObject(self, @selector(lastEventTime), @(lastEventTime), OBJC_ASSOCIATION_RETAIN_NONATOMIC);&#125;// æ–°çš„æ–¹æ³•- (void)my_sendAction:(SEL)action to:(id)target forEvent:(UIEvent *)event &#123;    if (NSDate.date.timeIntervalSince1970 - self.lastEventTime &lt; self.eventInterval) &#123;        return; // ç‚¹å‡»é—´éš”å¤ªçŸ­ï¼Œå¿½ç•¥    &#125;    self.lastEventTime = NSDate.date.timeIntervalSince1970;    [self my_sendAction:action to:target forEvent:event];&#125;@end\n\n\n\nä½¿ç”¨\nUIButton *btn = [UIButton buttonWithType:UIButtonTypeSystem];btn.eventInterval = 1.0; // è®¾ç½® 1 ç§’å†…ä¸èƒ½é‡å¤ç‚¹å‡»\n\nè®²è§£è¦ç‚¹\n\nsendAction:to:forEvent: æ˜¯ UIButton å¤„ç†ç‚¹å‡»äº‹ä»¶çš„å…¥å£ã€‚\né€šè¿‡ Swizzlingï¼Œåœ¨ä¸æ”¹ä¸šåŠ¡ä»£ç çš„æƒ…å†µä¸‹ç»Ÿä¸€åŠ äº†é˜²æŠ–ã€‚\nä½¿ç”¨ objc_setAssociatedObject ç»™åˆ†ç±»åŠ¨æ€æ·»åŠ å±æ€§ï¼Œè®°å½•æœ€åä¸€æ¬¡ç‚¹å‡»æ—¶é—´ã€‚\n\næ¡ˆä¾‹2ï¼šç”¨ NSProxy å®ç°å¼±ä»£ç†ï¼ˆé˜²æ­¢ Timer å¾ªç¯å¼•ç”¨ï¼‰\nNSProxy ä½œä¸ºä¸­ä»‹\nå¼±æŒ target\n\nèƒŒæ™¯\n\nNSTimer é»˜è®¤å¼ºå¼•ç”¨ targetï¼Œå®¹æ˜“é€ æˆå†…å­˜æ³„æ¼ï¼ˆå¾ªç¯å¼•ç”¨ï¼‰ã€‚\n\n\næ€è·¯\nä½¿ç”¨ NSProxy ä¸­è½¬ï¼Œè®© Timer å¼±å¼•ç”¨çœŸæ­£çš„ targetã€‚\n\nä»£ç ç¤ºä¾‹\nTimerWeakProxy.h\n#import &lt;Foundation/Foundation.h&gt;@interface TimerWeakProxy : NSProxy+ (instancetype)proxyWithTarget:(id)target;@end\nTimerWeakProxy.m\n#import &quot;TimerWeakProxy.h&quot;@interface TimerWeakProxy ()@property (nonatomic, weak) id target;@end@implementation TimerWeakProxy+ (instancetype)proxyWithTarget:(id)target &#123;    TimerWeakProxy *proxy = [TimerWeakProxy alloc];    proxy.target = target;    return proxy;&#125;- (id)forwardingTargetForSelector:(SEL)selector &#123;    return self.target;&#125;- (void)forwardInvocation:(NSInvocation *)invocation &#123;    [invocation invokeWithTarget:self.target];&#125;- (NSMethodSignature *)methodSignatureForSelector:(SEL)sel &#123;    return [self.target methodSignatureForSelector:sel];&#125;@end\n\n\nä½¿ç”¨\nself.timer = [NSTimer scheduledTimerWithTimeInterval:1.0                                              target:[TimerWeakProxy proxyWithTarget:self]                                            selector:@selector(timerAction)                                            userInfo:nil                                             repeats:YES];\n\n\nè®²è§£è¦ç‚¹\n\nTimerWeakProxy æŒæœ‰ target çš„å¼±å¼•ç”¨ï¼Œé˜²æ­¢å¾ªç¯å¼•ç”¨ã€‚\nforwardingTargetForSelector: æä¾›å¿«é€Ÿæ¶ˆæ¯è½¬å‘ï¼Œæé«˜æ€§èƒ½ã€‚\n\næ¡ˆä¾‹3ï¼šè‡ªåŠ¨ JSON -&gt; Model æ˜ å°„\nåˆ©ç”¨ property åˆ—è¡¨éå†\né«˜æ•ˆæ–¹ä¾¿ï¼Œæ€§èƒ½å¥½\n\næ¡ˆä¾‹4ï¼šå®‰å…¨é˜²æŠ¤å¥—ä»¶\nNSArrayã€NSDictionary è¿›è¡Œæ–¹æ³•æ›¿æ¢ï¼Œé˜²æ­¢é”™è¯¯æ“ä½œ\n\n\nå››ã€å®Œæ•´æ€ç»´å›¾\n\n\næŠ€æœ¯\nä½œç”¨\nå…·ä½“åœºæ™¯\n\n\n\nMethod Swizzling\nä¿®æ”¹ç³»ç»Ÿæ–¹æ³•\nAOP æ‰“ç‚¹\n\n\næ¶ˆæ¯è½¬å‘\nåŠ¨æ€å¤„ç†æœªçŸ¥æ–¹æ³•\nå¼±ä»£ç†\n\n\nAssociated Object\næ‰©å±•åˆ†ç±»å±æ€§\nUIButton é˜²é‡ç‚¹\n\n\nè‡ªåŠ¨ NSCoding\nè‡ªåŠ¨åŒ–å­˜å‚¨è¿è´¯\nModel æŒä¹…åŒ–\n\n\nNSProxy\né«˜çº§è½¬å‘\nTimer å¼±ä»£ç†\n\n\n\näº”ã€å¸¸è€ƒé—®é¢˜\nè¯´è¯´ä½ å¯¹ Runtime çš„ç†è§£ï¼Ÿ\n\n\nRuntime æ˜¯ OC çš„è¿è¡Œæ—¶ç³»ç»Ÿï¼Œå…è®¸ç¨‹åºåœ¨è¿è¡Œæ—¶è¿›è¡Œå¯¹è±¡æ“ä½œï¼ˆå¦‚æ¶ˆæ¯å‘é€ã€æ–¹æ³•äº¤æ¢ã€ç±»åˆ›å»ºç­‰ï¼‰ã€‚\nåŠ¨æ€æ€§æ˜¯ Objective-C æœ€é‡è¦çš„ç‰¹æ€§ä¹‹ä¸€ï¼ŒåŸºäº Runtime å®ç°ã€‚\n\n\n\nä»€ä¹ˆæ˜¯ Method Swizzlingï¼Ÿä½¿ç”¨æ—¶æ³¨æ„ä»€ä¹ˆï¼Ÿ\n\n\nå®šä¹‰ï¼šäº¤æ¢ä¸¤ä¸ªæ–¹æ³•çš„å®ç°ã€‚\næ³¨æ„ï¼š\nä½¿ç”¨ dispatch_once ä¿è¯åªäº¤æ¢ä¸€æ¬¡ã€‚\nç¡®è®¤æ–¹æ³•å­˜åœ¨å†äº¤æ¢ï¼Œé¿å…å´©æºƒã€‚\nç»´æŠ¤å¥½è°ƒç”¨é“¾ï¼Œé˜²æ­¢æ­»å¾ªç¯ã€‚\né¿å…è¿‡åº¦ä½¿ç”¨ï¼Œç ´åå°è£…æ€§ã€‚\n\n\n\nMethod Swizzling å¸¸ç”¨åœ¨å“ªäº›åœºæ™¯ï¼Ÿ\n\n\nç»Ÿä¸€åŠ æ—¥å¿—æ‰“ç‚¹ï¼ˆæ¯”å¦‚ UIViewController ç”Ÿå‘½å‘¨æœŸï¼‰\næ›¿æ¢ç³»ç»Ÿæ–¹æ³•åŠŸèƒ½ï¼ˆå¦‚ç»Ÿè®¡ç‚¹å‡»äº‹ä»¶ï¼‰\nAOP ç¼–ç¨‹å®è·µ\næ¡†æ¶å†…éƒ¨å¢å¼ºï¼ˆå¦‚ AFNetworking çš„æŸäº› hookï¼‰\n\n\n\næ¶ˆæ¯å‘é€æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ\n\n\nè°ƒç”¨æ–¹æ³• -&gt; è½¬æˆ objc_msgSend å‘é€æ¶ˆæ¯ã€‚\nå¦‚æœæ‰¾ä¸åˆ°æ–¹æ³•ï¼š\nåŠ¨æ€æ–¹æ³•è§£æï¼ˆresolveInstanceMethod:ï¼‰\nå¿«é€Ÿè½¬å‘ï¼ˆforwardingTargetForSelector:ï¼‰\nå®Œæ•´æ¶ˆæ¯è½¬å‘ï¼ˆforwardInvocation:ï¼‰\næœ€åæŠ›å‡º unrecognized selector sent to instance å¼‚å¸¸ã€‚\n\n\n\n\n\næ¶ˆæ¯è½¬å‘å’Œä»£ç†æ¨¡å¼æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ\n\n\nä»£ç†ï¼ˆdelegateï¼‰æœ¬è´¨å°±æ˜¯æ¶ˆæ¯è½¬å‘çš„ä¸€ç§åº”ç”¨ã€‚\nå¯ä»¥é€šè¿‡ forwardingTargetForSelector: æŠŠä¸æ”¯æŒçš„æ–¹æ³•äº¤ç»™ä»£ç†å¯¹è±¡æ‰§è¡Œã€‚\nå¤æ‚ä»£ç†æ¨¡å¼ï¼ˆå¦‚ NSProxy å¤šä»£ç†ï¼‰å°±æ˜¯ç”¨å®Œæ•´æ¶ˆæ¯è½¬å‘å®ç°çš„ã€‚\n\n\n\nSwizzling å’Œ Hook çš„åŒºåˆ«ï¼Ÿ\n\n\nSwizzlingï¼šæŒ‡â€œæ–¹æ³•äº¤æ¢â€ï¼Œä¸»è¦æ”¹å˜å¯¹è±¡çš„æ–¹æ³•å®ç°ã€‚\nHookï¼šæ›´å¹¿ä¹‰ï¼ŒæŒ‡æ‹¦æˆªå¹¶ä¿®æ”¹ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ï¼Œå¯ä»¥æ˜¯æ–¹æ³•å±‚é¢ã€å‡½æ•°å±‚é¢ï¼ˆFishhookï¼‰ã€ç”šè‡³æ˜¯æ±‡ç¼–æŒ‡ä»¤å±‚é¢ã€‚\n\n\n\nä¸ºä»€ä¹ˆ +load æ–¹æ³•é€‚åˆåš Swizzlingï¼Ÿ\n\n\n+load æ˜¯åœ¨ç±»ï¼ˆæˆ–åˆ†ç±»ï¼‰è¢«åŠ è½½åˆ°å†…å­˜æ—¶ç«‹å³è°ƒç”¨çš„ï¼Œä¼˜å…ˆäº main()ã€‚\nä¿è¯åœ¨å¯¹è±¡ä½¿ç”¨å‰å°±å®Œæˆæ–¹æ³•äº¤æ¢ã€‚\n\nè¡¥å……ï¼šå¦‚æœæƒ³æ›´çµæ´»æ§åˆ¶ï¼ŒæŸäº›æ¡†æ¶ï¼ˆå¦‚ Aspectsï¼‰ä¼šåœ¨ +initialize åš Swizzlingï¼Œä½†è¦æ³¨æ„ initialize åªä¼šåœ¨ç¬¬ä¸€æ¬¡å‘é€æ¶ˆæ¯å‰è°ƒç”¨ã€‚\n\n\nä½¿ç”¨ Runtime æœ‰å“ªäº›é£é™©ï¼Ÿ\n\n\næ–¹æ³•äº¤æ¢è¿‡å¤šï¼Œå®¹æ˜“å¯¼è‡´éš¾ä»¥ç»´æŠ¤å’Œè°ƒè¯•ã€‚\næ¶ˆæ¯è½¬å‘é“¾è¿‡é•¿ï¼Œå¯èƒ½å¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚\nåŠ¨æ€æ·»åŠ æ–¹æ³•æ—¶å‚æ•°ç±»å‹ç­¾åä¸æ­£ç¡®ï¼Œå¯èƒ½å¯¼è‡´è¿è¡Œæ—¶å´©æºƒã€‚\næ— æ³•è¢«ç¼–è¯‘å™¨é™æ€æ£€æŸ¥ï¼Œå‡ºé”™æ—¶å¾ˆéš¾å®šä½ã€‚\n\n\n\nNSProxy æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ\n\n\nNSProxy æ˜¯ä¸€ä¸ªè½»é‡çº§çš„åŸºç±»ï¼Œä¸“é—¨ç”¨äºå®ç°æ¶ˆæ¯è½¬å‘ã€‚\nå…¸å‹åœºæ™¯ï¼š\nè¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼ˆRPCï¼‰\nå¤šä»£ç†ç®¡ç†ï¼ˆå¦‚ YYTextKeyboardManagerï¼‰\nç›¸æ¯” NSObjectï¼ŒNSProxy æ²¡æœ‰å®ä¾‹å˜é‡ï¼Œç›´æ¥èµ°å®Œæ•´æ¶ˆæ¯è½¬å‘æµç¨‹ã€‚\n\n\n","categories":["åŸºç¡€"]},{"title":"Day6-åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹","url":"/2025/04/29/Day6-%E5%88%A0%E9%99%A4%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E9%A1%B9/","content":"ğŸ”— LeetCode 26 - Remove Duplicates from Sorted Array\nğŸ“Œ é¢˜ç›®æè¿°ç»™ä½ ä¸€ä¸ª å‡åºæ’åˆ— çš„æ•°ç»„ numsï¼Œè¯·ä½ åŸåœ°åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„ã€‚\nç¤ºä¾‹ï¼š\nè¾“å…¥: nums = [1,1,2]è¾“å‡º: 2, nums = [1,2,_]\n\n\nğŸ’¡ è§£é¢˜æ€è·¯\nä½¿ç”¨ åŒæŒ‡é’ˆï¼š\n\nslow æŒ‡é’ˆè¡¨ç¤ºå½“å‰å¤„ç†çš„å”¯ä¸€å…ƒç´ ä¸‹æ ‡ï¼›\nfast æŒ‡é’ˆéå†æ•°ç»„ï¼Œå½“é‡åˆ°ä¸€ä¸ªä¸ nums[slow] ä¸åŒçš„å…ƒç´ æ—¶ï¼Œå°†å…¶èµ‹å€¼ç»™ nums[slow + 1]ï¼Œç„¶å slow å‰è¿›ä¸€æ­¥ã€‚\n\n\néå†ç»“æŸåï¼Œslow + 1 å°±æ˜¯æ–°æ•°ç»„çš„é•¿åº¦ã€‚\n\næ—¶é—´å¤æ‚åº¦ï¼šO(n)\n\nç©ºé—´å¤æ‚åº¦ï¼šO(1)\n\n\n\nâœ… JavaScript å®ç°var removeDuplicates = function(nums) &#123;    if (nums.length === 0) return 0;        let slow = 0;        for (let fast = 1; fast &lt; nums.length; fast++) &#123;        if (nums[fast] !== nums[slow]) &#123;            slow++;            nums[slow] = nums[fast];        &#125;    &#125;        return slow + 1;&#125;;\n\n\nğŸ§  æ€è€ƒæ‹“å±•\nå¦‚æœè¦æ±‚æ¯ä¸ªå…ƒç´ æœ€å¤šå‡ºç°ä¸¤æ¬¡æ€ä¹ˆåŠï¼Ÿï¼ˆå‚è€ƒ LeetCode 80ï¼‰\nè¿™é“é¢˜ä¸ºä»€ä¹ˆå¿…é¡»æ˜¯åŸåœ°ä¿®æ”¹ï¼Ÿæœ‰ä»€ä¹ˆå®é™…åº”ç”¨åœºæ™¯ï¼Ÿ\n\n\n","categories":["ç®—æ³•"]},{"title":"Hello World","url":"/2025/04/21/hello-world/","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick StartCreate a new post$ hexo new &quot;My New Post&quot;\n\nMore info: Writing\nRun server$ hexo server\n\nMore info: Server\nGenerate static files$ hexo generate\n\nMore info: Generating\nDeploy to remote sites$ hexo deploy\n\nMore info: Deployment\n"},{"title":"å­¦ä¹ è®¡åˆ’","url":"/2025/04/23/%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92/","content":"æ¯æ—¥èŠ‚å¥å»ºè®®ï¼š\nğŸ“– æŠ€æœ¯çŸ¥è¯†å­¦ä¹ ï¼š1.5h\nğŸ§± é¡¹ç›®å›é¡¾ &amp; ç³»ç»Ÿè®¾è®¡ï¼š1h\nğŸ§  ç®—æ³•è®­ç»ƒï¼š1h\nğŸ¤ é¢è¯•é¢˜æ¼”ç»ƒï¼š1h\nğŸ““ æ€»ç»“è®°å½•ï¼š0.5h\n\n\nğŸ—“ï¸ ç¬¬ 1 å‘¨ï¼šUIKitã€Blockã€Runtime\n\n\næ˜ŸæœŸ\nå­¦ä¹ å†…å®¹\n\n\n\nå‘¨ä¸€\nUIKit äº‹ä»¶ä¼ é€’æœºåˆ¶ &amp; Responder Chain\n\n\nå‘¨äºŒ\nView å¸ƒå±€æµç¨‹ï¼ˆlayoutSubviews ç­‰ï¼‰\n\n\nå‘¨ä¸‰\nBlock åˆ†ç±»ã€å˜é‡æ•è·ä¸ä½œç”¨åŸŸ\n\n\nå‘¨å››\nBlock å†…å­˜ç®¡ç† &amp; å¾ªç¯å¼•ç”¨åˆ†æ\n\n\nå‘¨äº”\nObjective-C Runtime åŸºç¡€ç»“æ„\n\n\nå‘¨å…­\nRuntime å®æˆ˜æŠ€å·§ï¼ˆSwizzlingã€æ¶ˆæ¯è½¬å‘ï¼‰\n\n\nå‘¨æ—¥\nå¤ç›˜æ€»ç»“ + è¾“å‡ºç¬”è®°ï¼ˆRuntime&#x2F;Block&#x2F;UIï¼‰\n\n\n\nğŸ—“ï¸ ç¬¬ 2 å‘¨ï¼šRunLoopã€çº¿ç¨‹ã€å†…å­˜ç®¡ç†\n\n\næ˜ŸæœŸ\nå­¦ä¹ å†…å®¹\n\n\n\nå‘¨ä¸€\nRunLoop æ„æˆä¸çº¿ç¨‹ä¿æ´»\n\n\nå‘¨äºŒ\nRunLoop å¡é¡¿ä¼˜åŒ–åœºæ™¯å®æˆ˜\n\n\nå‘¨ä¸‰\nGCD è¿›é˜¶ï¼šbarrier&#x2F;group&#x2F;target queue\n\n\nå‘¨å››\nGCD vs NSOperation æ¡†æ¶å¯¹æ¯”\n\n\nå‘¨äº”\nARC æœ¬è´¨ã€Weak å®ç°ã€å¾ªç¯å¼•ç”¨å¤„ç†\n\n\nå‘¨å…­\nå†…å­˜æ³„æ¼æ’æŸ¥ã€åƒµå°¸å¯¹è±¡ä¸ MRC å›é¡¾\n\n\nå‘¨æ—¥\næ€»ç»“è„‘å›¾ï¼šRunLoop + å¤šçº¿ç¨‹ + å†…å­˜ç®¡ç†\n\n\n\nğŸ—“ï¸ ç¬¬ 3 å‘¨ï¼šé¡¹ç›®å¤ç›˜ + ç½‘ç»œ &amp; ç¼“å­˜\n\n\næ˜ŸæœŸ\nå­¦ä¹ å†…å®¹\n\n\n\nå‘¨ä¸€\nä¸»é¡¹ç›®æ¶æ„æ¢³ç† + æ¶æ„å›¾åˆç¨¿\n\n\nå‘¨äºŒ\nNSURLSession æ–­ç‚¹ç»­ä¼  + ç½‘ç»œå°è£…\n\n\nå‘¨ä¸‰\nç½‘ç»œåº“åº•å±‚ï¼šAFNetworkingã€Alamofire\n\n\nå‘¨å››\nç¼“å­˜ç­–ç•¥ + URLProtocol æ‹¦æˆª\n\n\nå‘¨äº”\næ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆï¼ˆCoreData&#x2F;SQLiteï¼‰\n\n\nå‘¨å…­\nç¦»çº¿ç¼“å­˜æ¶æ„å›¾ + å®é™…åœºæ™¯æ€»ç»“\n\n\nå‘¨æ—¥\nè¾“å‡ºï¼šé¡¹ç›®äº®ç‚¹ bullet listï¼ˆ10 æ¡ï¼‰\n\n\n\nğŸ—“ï¸ ç¬¬ 4 å‘¨ï¼šæ¶æ„æ¨¡å¼ &amp; åŠ¨æ€åŒ–æŠ€æœ¯\n\n\næ˜ŸæœŸ\nå­¦ä¹ å†…å®¹\n\n\n\nå‘¨ä¸€\nMVC&#x2F;MVVM&#x2F;VIPER&#x2F;Redux æ¨¡å¼æ€»ç»“\n\n\nå‘¨äºŒ\næ¨¡å—åŒ–è®¾è®¡ + è·¯ç”±æœºåˆ¶å®è·µ\n\n\nå‘¨ä¸‰\nè·¨ç»„ä»¶é€šä¿¡æ–¹æ¡ˆï¼ˆRouter &#x2F; URLSchemeï¼‰\n\n\nå‘¨å››\nçƒ­æ›´æ–°æ–¹æ¡ˆï¼ˆJSPatch &#x2F; Flutter &#x2F; RNï¼‰\n\n\nå‘¨äº”\nå­—èŠ‚è·³åŠ¨é«˜é¢‘æ¶æ„ç±»é¢è¯•é¢˜æ•´ç†\n\n\nå‘¨å…­\né¡¹ç›®æ¶æ„æ¼”è®²æ¨¡æ‹Ÿ\n\n\nå‘¨æ—¥\næ¶æ„å›¾æœ€ç»ˆç‰ˆ + é¡¹ç›®å¤ç›˜æ–‡æ¡£æ•´ç†\n\n\n\nğŸ—“ï¸ ç¬¬ 5 å‘¨ï¼šç³»ç»Ÿè®¾è®¡ &amp; ç®—æ³•è¿›é˜¶\n\n\næ˜ŸæœŸ\nå­¦ä¹ å†…å®¹\n\n\n\nå‘¨ä¸€\nç³»ç»Ÿè®¾è®¡é¢˜ï¼šè§†é¢‘æ’­æ”¾ App è®¾è®¡\n\n\nå‘¨äºŒ\nè§†é¢‘ç¼“å­˜ã€å¼‚å¸¸å¤„ç†æ¨¡å—\n\n\nå‘¨ä¸‰\nå›¾ç‰‡åŠ è½½ä¼˜åŒ–ï¼ˆLRU&#x2F;å¼‚æ­¥è§£ç ï¼‰\n\n\nå‘¨å››\nå¤šçº¿ç¨‹æ•°æ®ä¸€è‡´æ€§åœºæ™¯é¢˜\n\n\nå‘¨äº”\nå¯åŠ¨ä¼˜åŒ– &amp; ç™½å±ä¼˜åŒ–åœºæ™¯\n\n\nå‘¨å…­\nç®—æ³•ä¸“é¢˜ï¼šæ»‘åŠ¨çª—å£ + æœç´¢ç±»\n\n\nå‘¨æ—¥\nè¾“å‡ºç³»ç»Ÿè®¾è®¡ç­”é¢˜ç¨¿ï¼ˆé™„å›¾+è¦ç‚¹ï¼‰\n\n\n\nğŸ—“ï¸ ç¬¬ 6 å‘¨ï¼šçœŸé¢˜ç²¾ç»ƒ + æ¨¡æ‹Ÿé¢è¯•\n\n\næ˜ŸæœŸ\nå­¦ä¹ å†…å®¹\n\n\n\nå‘¨ä¸€\nå­—èŠ‚è·³åŠ¨ iOS é¢ç»æ¨¡æ‹Ÿä¸€è½®\n\n\nå‘¨äºŒ\nç®—æ³• + é¡¹ç›® + ç³»ç»Ÿè®¾è®¡è‡ªæµ‹\n\n\nå‘¨ä¸‰\né¢ç»é«˜é¢‘é¢˜å£å¤´å›ç­”è®­ç»ƒ\n\n\nå‘¨å››\nç³»ç»Ÿè®¾è®¡ + æ¡†æ¶ç±»é—®é¢˜æ¼”ç»ƒ\n\n\nå‘¨äº”\nç®—æ³•é¢è¯•é¢˜ï¼šæ‰‹å†™ç»å…¸é¢˜\n\n\nå‘¨å…­\næ¨¡æ‹Ÿé¢è¯•ï¼ˆå¯æ‰¾æœ‹å‹&#x2F;AI æ¼”ç»ƒï¼‰\n\n\nå‘¨æ—¥\næ€»ç»“é”™é¢˜ã€é¢è¯•è¡¨ç°å¤ç›˜ç¬”è®°\n\n\n\nğŸ—“ï¸ ç¬¬ 7 å‘¨ï¼šç®€å†æ‰“ç£¨ + é«˜é¢‘å›é¡¾\n\n\næ˜ŸæœŸ\nå­¦ä¹ å†…å®¹\n\n\n\nå‘¨ä¸€\nç®€å†ä¼˜åŒ– + STAR æ³•é¡¹ç›®ç²¾ç‚¼\n\n\nå‘¨äºŒ\né«˜é¢‘ iOS é¢è¯•é¢˜ Top20 æ¢³ç†\n\n\nå‘¨ä¸‰\né¡¹ç›®æ·±æŒ–å›ç­”æ¼”ç»ƒ\n\n\nå‘¨å››\nç®—æ³•æ¯æ—¥ä¸‰é¢˜ï¼ˆé“¾è¡¨&#x2F;DP&#x2F;å­—ç¬¦ä¸²ï¼‰\n\n\nå‘¨äº”\nçªç ´çŸ¥è¯†çŸ­æ¿æ¨¡å—\n\n\nå‘¨å…­\nå½•åˆ¶é¡¹ç›®è®²è§£ or æŠ€æœ¯è®²æ¼”è§†é¢‘\n\n\nå‘¨æ—¥\næ€»ç»“ç­”é¢˜è¯æœ¯æ–‡æ¡£ &amp; PPT èµ„æ–™\n\n\n\nğŸ—“ï¸ ç¬¬ 8 å‘¨ï¼šå†²åˆº &amp; æ¨¡æ‹Ÿæ¼”ç»ƒ\n\n\næ˜ŸæœŸ\nå­¦ä¹ å†…å®¹\n\n\n\nå‘¨ä¸€\nå¿«é€Ÿè¿‡ä¸€éé¢è¯• 50 é—®\n\n\nå‘¨äºŒ\næ¨¡æ‹Ÿå®Œæ•´é¡¹ç›®ç­”è¾©æ¼”è®²\n\n\nå‘¨ä¸‰\né«˜é¢‘ç®—æ³•åˆ·é¢˜ï¼ˆ6 é¢˜å†²åˆºï¼‰\n\n\nå‘¨å››\næ¨¡æ‹Ÿå®Œæ•´é¢è¯•ï¼ˆå…¨æµç¨‹ï¼‰\n\n\nå‘¨äº”\næ€»ç»“æ‰€æœ‰ç¬”è®° + ç²¾é€‰ç­”é¢˜å¡\n\n\nå‘¨å…­\nå¿ƒæ€è°ƒæ•´ &amp; å‡†å¤‡ç¯å¢ƒ\n\n\nå‘¨æ—¥\næ­£å¼é¢è¯• day ğŸš€ï¼ˆæˆ–ä¼‘æ¯å¤‡æˆ˜ï¼‰\n\n\n\n"}]